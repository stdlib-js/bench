// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("stream"),require("process"),require("buffer"),require("events")):"function"==typeof define&&define.amd?define(["stream","process","buffer","events"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).bench=e(t.require$$1,t.require$$0$1,t.require$$0$2,t.require$$0$3)}(this,(function(t,e,r,n){"use strict";var o="function"==typeof Object.defineProperty?Object.defineProperty:null;var i=Object.defineProperty;function a(t){return"number"==typeof t}function u(t){var e,r="";for(e=0;e<t;e++)r+="0";return r}function s(t,e,r){var n=!1,o=e-t.length;return o<0||(function(t){return"-"===t[0]}(t)&&(n=!0,t=t.substr(1)),t=r?t+u(o):u(o)+t,n&&(t="-"+t)),t}var c=String.prototype.toLowerCase,f=String.prototype.toUpperCase;function l(t){var e,r,n;switch(t.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(r=t.arg,n=parseInt(r,10),!isFinite(n)){if(!a(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===t.specifier||10!==e)&&(n=4294967295+n+1),n<0?(r=(-n).toString(e),t.precision&&(r=s(r,t.precision,t.padRight)),r="-"+r):(r=n.toString(e),n||t.precision?t.precision&&(r=s(r,t.precision,t.padRight)):r="",t.sign&&(r=t.sign+r)),16===e&&(t.alternate&&(r="0x"+r),r=t.specifier===f.call(t.specifier)?f.call(r):c.call(r)),8===e&&t.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}var p=Math.abs,h=String.prototype.toLowerCase,m=String.prototype.toUpperCase,y=String.prototype.replace,d=/e\+(\d)$/,g=/e-(\d)$/,v=/^(\d+)$/,b=/^(\d+)e/,w=/\.0$/,j=/\.0*e/,E=/(\..*[^0])0*e/;function _(t){var e,r,n=parseFloat(t.arg);if(!isFinite(n)){if(!a(t.arg))throw new Error("invalid floating-point number. Value: "+r);n=t.arg}switch(t.specifier){case"e":case"E":r=n.toExponential(t.precision);break;case"f":case"F":r=n.toFixed(t.precision);break;case"g":case"G":p(n)<1e-4?((e=t.precision)>0&&(e-=1),r=n.toExponential(e)):r=n.toPrecision(t.precision),t.alternate||(r=y.call(r,E,"$1e"),r=y.call(r,j,"e"),r=y.call(r,w,""));break;default:throw new Error("invalid double notation. Value: "+t.specifier)}return r=y.call(r,d,"e+0$1"),r=y.call(r,g,"e-0$1"),t.alternate&&(r=y.call(r,v,"$1."),r=y.call(r,b,"$1.e")),n>=0&&t.sign&&(r=t.sign+r),r=t.specifier===m.call(t.specifier)?m.call(r):h.call(r)}function O(t){var e,r="";for(e=0;e<t;e++)r+=" ";return r}var k=String.fromCharCode,A=Array.isArray;function T(t){return t!=t}function S(t){var e={};return e.specifier=t.specifier,e.precision=void 0===t.precision?1:t.precision,e.width=t.width,e.flags=t.flags||"",e.mapping=t.mapping,e}function x(t){var e,r,n,o,i,a,u,c,f,p,h,m,y;if(!A(t))throw new TypeError("invalid argument. First argument must be an array. Value: `"+t+"`.");for(a="",u=1,c=0;c<t.length;c++)if(n=t[c],"string"==typeof n)a+=n;else{if(e=void 0!==n.precision,!(n=S(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+n+"`.");for(n.mapping&&(u=n.mapping),r=n.flags,f=0;f<r.length;f++)switch(o=r.charAt(f)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,T(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(e&&"*"===n.precision){if(n.precision=parseInt(arguments[u],10),u+=1,T(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,e=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(n.padZeros=!1),n.arg=l(n);break;case"s":n.maxWidth=e?n.precision:-1,n.arg=String(n.arg);break;case"c":if(!T(n.arg)){if((i=parseInt(n.arg,10))<0||i>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=T(i)?String(n.arg):k(i)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(n.precision=6),n.arg=_(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=s(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=(p=n.arg,h=n.width,m=n.padRight,y=void 0,(y=h-p.length)<0?p:p=m?p+O(y):O(y)+p)),a+=n.arg||"",u+=1}return a}var I=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function V(t){var e={mapping:t[1]?parseInt(t[1],10):void 0,flags:t[2],width:t[3],precision:t[5],specifier:t[6]};return"."===t[4]&&void 0===t[5]&&(e.precision="1"),e}function F(t){var e,r,n,o;for(r=[],o=0,n=I.exec(t);n;)(e=t.slice(o,I.lastIndex-n[0].length)).length&&r.push(e),r.push(V(n)),o=I.lastIndex,n=I.exec(t);return(e=t.slice(o)).length&&r.push(e),r}function P(t){var e,r;if("string"!=typeof t)throw new TypeError(P("invalid argument. First argument must be a string. Value: `%s`.",t));for(e=[F(t)],r=1;r<arguments.length;r++)e.push(arguments[r]);return x.apply(null,e)}var M,U=Object.prototype,$=U.toString,C=U.__defineGetter__,R=U.__defineSetter__,N=U.__lookupGetter__,q=U.__lookupSetter__;M=function(){try{return o({},"x",{}),!0}catch(t){return!1}}()?i:function(t,e,r){var n,o,i,a;if("object"!=typeof t||null===t||"[object Array]"===$.call(t))throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",t));if("object"!=typeof r||null===r||"[object Array]"===$.call(r))throw new TypeError(P("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((o="value"in r)&&(N.call(t,e)||q.call(t,e)?(n=t.__proto__,t.__proto__=U,delete t[e],t[e]=r.value,t.__proto__=n):t[e]=r.value),i="get"in r,a="set"in r,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&C&&C.call(t,e,r.get),a&&R&&R.call(t,e,r.set),t};var B=M;function W(t,e,r){B(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}function L(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var G=L(Object.freeze({__proto__:null,default:()=>()=>{}}));function H(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e?new TypeError(P("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",t)):null}var D=Object.create;function X(){}var z="function"==typeof D?D:function(t){return X.prototype=t,new X};function Z(t,e){var r=H(t);if(r)throw r;if(r=H(e))throw r;if(void 0===e.prototype)throw new TypeError(P("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",e.prototype));return t.prototype=z(e.prototype),B(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t}),t}var Y=/./;function J(t){return"boolean"==typeof t}var K="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function Q(){return K&&"symbol"==typeof Symbol.toStringTag}var tt=Object.prototype.toString;var et=Object.prototype.hasOwnProperty;function rt(t,e){return null!=t&&et.call(t,e)}var nt="function"==typeof Symbol?Symbol:void 0,ot="function"==typeof nt?nt.toStringTag:"";var it=Q()?function(t){var e,r,n;if(null==t)return tt.call(t);r=t[ot],e=rt(t,ot);try{t[ot]=void 0}catch(e){return tt.call(t)}return n=tt.call(t),e?t[ot]=r:delete t[ot],n}:function(t){return tt.call(t)},at=Boolean,ut=Boolean.prototype.toString;var st=Q();function ct(t){return"object"==typeof t&&(t instanceof at||(st?function(t){try{return ut.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===it(t)))}function ft(t){return J(t)||ct(t)}W(ft,"isPrimitive",J),W(ft,"isObject",ct);var lt="object"==typeof self?self:null,pt="object"==typeof window?window:null,ht="object"==typeof global?global:null,mt="object"==typeof globalThis?globalThis:null;function yt(t){if(arguments.length){if(!J(t))throw new TypeError(P("invalid argument. Must provide a boolean. Value: `%s`.",t));if(t)return new Function("return this;")()}if(mt)return mt;if(lt)return lt;if(pt)return pt;if(ht)return ht;throw new Error("unexpected error. Unable to resolve global object.")}var dt=yt(),gt=dt.document&&dt.document.childNodes,vt=Int8Array;function bt(){return/^\s*function\s*([^(]*)/i}var wt,jt=/^\s*function\s*([^(]*)/i;W(bt,"REGEXP",jt),wt=Array.isArray?Array.isArray:function(t){return"[object Array]"===it(t)};var Et=wt;function _t(t){if("function"!=typeof t)throw new TypeError(P("invalid argument. Must provide a function. Value: `%s`.",t));return function(e){var r,n;if(!Et(e))return!1;if(0===(r=e.length))return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}}function Ot(t){return null!==t&&"object"==typeof t}function kt(t){return Ot(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))}function At(t){var e,r,n;if(("Object"===(r=it(t).slice(8,-1))||"Error"===r)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(e=jt.exec(n.toString()))return e[1]}return kt(t)?"Buffer":r}W(Ot,"isObjectLikeArray",_t(Ot));var Tt="function"==typeof Y||"object"==typeof vt||"function"==typeof gt?function(t){return At(t).toLowerCase()}:function(t){var e;return null===t?"null":"object"===(e=typeof t)?At(t).toLowerCase():e};function St(t){return"function"===Tt(t)}var xt=St(Object.assign),It=Object.assign;function Vt(t){return Object.keys(Object(t))}var Ft,Pt=void 0!==Object.keys;function Mt(t){return"[object Arguments]"===it(t)}Ft=function(){return Mt(arguments)}();var Ut=Ft;function $t(t){return"string"==typeof t}var Ct=String.prototype.valueOf;var Rt=Q();function Nt(t){return"object"==typeof t&&(t instanceof String||(Rt?function(t){try{return Ct.call(t),!0}catch(t){return!1}}(t):"[object String]"===it(t)))}function qt(t){return $t(t)||Nt(t)}function Bt(t){return"number"==typeof t}W(qt,"isPrimitive",$t),W(qt,"isObject",Nt);var Wt=Number,Lt=Wt.prototype.toString;var Gt=Q();function Ht(t){return"object"==typeof t&&(t instanceof Wt||(Gt?function(t){try{return Lt.call(t),!0}catch(t){return!1}}(t):"[object Number]"===it(t)))}function Dt(t){return Bt(t)||Ht(t)}function Xt(t){return t!=t}function zt(t){return Bt(t)&&Xt(t)}function Zt(t){return Ht(t)&&Xt(t.valueOf())}function Yt(t){return zt(t)||Zt(t)}W(Dt,"isPrimitive",Bt),W(Dt,"isObject",Ht),W(Yt,"isPrimitive",zt),W(Yt,"isObject",Zt);var Jt=Number.POSITIVE_INFINITY,Kt=Wt.NEGATIVE_INFINITY,Qt=Math.floor;function te(t){return Qt(t)===t}function ee(t){return t<Jt&&t>Kt&&te(t)}function re(t){return Bt(t)&&ee(t)}function ne(t){return Ht(t)&&ee(t.valueOf())}function oe(t){return re(t)||ne(t)}W(oe,"isPrimitive",re),W(oe,"isObject",ne);var ie=Object.prototype.propertyIsEnumerable;var ae=!ie.call("beep","0");function ue(t,e){var r;return null!=t&&(!(r=ie.call(t,e))&&ae&&qt(t)?!zt(e=+e)&&re(e)&&e>=0&&e<t.length:r)}var se,ce=4294967295;se=Ut?Mt:function(t){return null!==t&&"object"==typeof t&&!Et(t)&&"number"==typeof t.length&&te(t.length)&&t.length>=0&&t.length<=ce&&rt(t,"callee")&&!ue(t,"callee")};var fe=se,le=Array.prototype.slice;function pe(){}var he=ue(pe,"prototype"),me=!ue({toString:null},"toString"),ye=9007199254740991;function de(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&te(t.length)&&t.length>=0&&t.length<=ye}function ge(t,e,r){var n,o;if(!de(t)&&!$t(t))throw new TypeError(P("invalid argument. First argument must be an array-like object. Value: `%s`.",t));if(0===(n=t.length))return-1;if(3===arguments.length){if(!re(r))throw new TypeError(P("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=n)return-1;o=r}else(o=n+r)<0&&(o=0)}else o=0;if(Yt(e)){for(;o<n;o++)if(Yt(t[o]))return o}else for(;o<n;o++)if(t[o]===e)return o;return-1}function ve(t){return t.constructor&&t.constructor.prototype===t}var be=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],we="undefined"==typeof window?void 0:window;var je=function(){var t;if("undefined"===Tt(we))return!1;for(t in we)try{-1===ge(be,t)&&rt(we,t)&&null!==we[t]&&"object"===Tt(we[t])&&ve(we[t])}catch(t){return!0}return!1}(),Ee="undefined"!=typeof window;var _e,Oe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];_e=Pt?function(){return 2!==(Vt(arguments)||"").length}(1,2)?function(t){return fe(t)?Vt(le.call(t)):Vt(t)}:Vt:function(t){var e,r,n,o,i,a,u;if(o=[],fe(t)){for(u=0;u<t.length;u++)o.push(u.toString());return o}if("string"==typeof t){if(t.length>0&&!rt(t,"0"))for(u=0;u<t.length;u++)o.push(u.toString())}else{if(!1==(n="function"==typeof t)&&!Ot(t))return o;r=he&&n}for(i in t)r&&"prototype"===i||!rt(t,i)||o.push(String(i));if(me)for(e=function(t){if(!1===Ee&&!je)return ve(t);try{return ve(t)}catch(t){return!1}}(t),u=0;u<Oe.length;u++)a=Oe[u],e&&"constructor"===a||!rt(t,a)||o.push(String(a));return o};var ke,Ae=_e,Te=void 0!==Object.getOwnPropertySymbols,Se=Object,xe=Se.getOwnPropertySymbols;ke=Te?function(t){return xe(Se(t))}:function(){return[]};var Ie,Ve=ke;function Fe(t){var e,r,n;for(e=Ae(t),r=Ve(t),n=0;n<r.length;n++)ue(t,r[n])&&e.push(r[n]);return e}Ie=xt?It:function(t){var e,r,n,o,i,a,u;if(null==t)throw new TypeError(P("invalid argument. First argument must be a non-null object. Value: `%s`.",t));for(i=Se(t),a=1;a<arguments.length;a++)if(null!=(e=arguments[a]))for(o=(r=Fe(Se(e))).length,u=0;u<o;u++)i[n=r[u]]=e[n];return i};var Pe=Ie,Me={objectMode:!1,encoding:null,allowHalfOpen:!1,decodeStrings:!0};var Ue,$e=Object.getPrototypeOf;Ue=St(Object.getPrototypeOf)?$e:function(t){var e=function(t){return t.__proto__}(t);return e||null===e?e:"[object Function]"===it(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null};var Ce=Ue;function Re(t){return null==t?null:(t=Se(t),Ce(t))}var Ne=Object.prototype;function qe(t){var e;return!!function(t){return"object"==typeof t&&null!==t&&!Et(t)}(t)&&(!(e=Re(t))||!rt(t,"constructor")&&rt(e,"constructor")&&St(e.constructor)&&"[object Function]"===it(e.constructor)&&rt(e,"isPrototypeOf")&&St(e.isPrototypeOf)&&(e===Ne||function(t){var e;for(e in t)if(!rt(t,e))return!1;return!0}(t)))}function Be(t){return Bt(t)&&t>=0}function We(t){return Ht(t)&&t.valueOf()>=0}function Le(t){return Be(t)||We(t)}function Ge(t,e){return qe(e)?rt(e,"transform")&&(t.transform=e.transform,!St(t.transform))?new TypeError(P("invalid option. `%s` option must be a function. Option: `%s`.","transform",t.transform)):rt(e,"flush")&&(t.flush=e.flush,!St(t.flush))?new TypeError(P("invalid option. `%s` option must be a function. Option: `%s`.","flush",t.flush)):rt(e,"objectMode")&&(t.objectMode=e.objectMode,!J(t.objectMode))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",t.objectMode)):rt(e,"encoding")&&(t.encoding=e.encoding,!$t(t.encoding))?new TypeError(P("invalid option. `%s` option must be a string. Option: `%s`.","encoding",t.encoding)):rt(e,"allowHalfOpen")&&(t.allowHalfOpen=e.allowHalfOpen,!J(t.allowHalfOpen))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",t.allowHalfOpen)):rt(e,"highWaterMark")&&(t.highWaterMark=e.highWaterMark,!Be(t.highWaterMark))?new TypeError(P("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",t.highWaterMark)):rt(e,"decodeStrings")&&(t.decodeStrings=e.decodeStrings,!J(t.decodeStrings))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","decodeStrings",t.decodeStrings)):null:new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",e))}W(Le,"isPrimitive",Be),W(Le,"isObject",We);var He=e;var De=G("transform-stream:destroy");function Xe(t){var e;return this._destroyed?(De("Attempted to destroy an already destroyed stream."),this):(e=this,this._destroyed=!0,function(t){var e,r;for(e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);He.nextTick((function(){t.apply(null,e)}))}((function(){t&&(De("Stream was destroyed due to an error. Error: %s.",JSON.stringify(t)),e.emit("error",t));De("Closing the stream..."),e.emit("close")})),this)}var ze=G("transform-stream:transform");function Ze(t,e,r){ze("Received a new chunk. Chunk: %s. Encoding: %s.",t.toString(),e),r(null,t)}var Ye=G,Je=t.Transform,Ke=Ye("transform-stream:main");function Qe(t){var e,r;if(!(this instanceof Qe))return arguments.length?new Qe(t):new Qe;if(e=Pe({},Me),arguments.length&&(r=Ge(e,t)))throw r;return Ke("Creating a transform stream configured with the following options: %s.",JSON.stringify(e)),Je.call(this,e),this._destroyed=!1,e.transform?this._transform=e.transform:this._transform=Ze,e.flush&&(this._flush=e.flush),this}Z(Qe,Je),Qe.prototype.destroy=Xe;var tr=G,er=t.Transform,rr=tr("transform-stream:ctor");function nr(t){return re(t)&&t>=0}function or(t){return ne(t)&&t.valueOf()>=0}function ir(t){return nr(t)||or(t)}function ar(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}W(Qe,"objectMode",(function(t){var e;if(arguments.length){if(!qe(t))throw new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",t));e=Pe({},t)}else e={};return e.objectMode=!0,new Qe(e)})),W(Qe,"factory",(function(t){var e;if(arguments.length){if(!qe(t))throw new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",t));e=Pe({},t)}else e={};return function(t,r){e.transform=t,arguments.length>1?e.flush=r:delete e.flush;return new Qe(e)}})),W(Qe,"ctor",(function(t){var e,r,n;if(r=Pe({},Me),arguments.length&&(n=Ge(r,t)))throw n;function o(t){var e,n;if(!(this instanceof o))return arguments.length?new o(t):new o;if(e=Pe({},r),arguments.length&&(n=Ge(e,t)))throw n;return rr("Creating a transform stream configured with the following options: %s.",JSON.stringify(e)),er.call(this,e),this._destroyed=!1,this}return e=r.transform?r.transform:Ze,Z(o,er),o.prototype._transform=e,r.flush&&(o.prototype._flush=r.flush),o.prototype.destroy=Xe,o})),W(ir,"isPrimitive",nr),W(ir,"isObject",or),W(ar,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var ur,sr=void 0!==Object.getOwnPropertyNames,cr=Se.getOwnPropertyNames;ur=sr?function(t){return cr(Se(t))}:function(t){return Ae(Se(t))};var fr,lr=ur,pr=void 0!==Object.getOwnPropertyDescriptor,hr=Object.getOwnPropertyDescriptor;fr=pr?function(t,e){var r;return null==t||void 0===(r=hr(t,e))?null:r}:function(t,e){return rt(t,e)?{configurable:!0,enumerable:!0,writable:!0,value:t[e]}:null};var mr=fr,yr="function"==typeof Buffer?Buffer:null;var dr,gr=r.Buffer;dr=function(){var t,e;if("function"!=typeof yr)return!1;try{t=kt(e="function"==typeof yr.from?yr.from([1,2,3,4]):new yr([1,2,3,4]))&&1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]}catch(e){t=!1}return t}()?gr:function(){throw new Error("not implemented")};var vr=dr;var br=St(vr.from)?function(t){if(!kt(t))throw new TypeError(P("invalid argument. Must provide a Buffer. Value: `%s`.",t));return vr.from(t)}:function(t){if(!kt(t))throw new TypeError(P("invalid argument. Must provide a Buffer. Value: `%s`.",t));return new vr(t)},wr="function"==typeof Int8Array;var jr="function"==typeof Int8Array?Int8Array:null;var Er,_r="function"==typeof Int8Array?Int8Array:void 0;Er=function(){var t,e,r;if("function"!=typeof jr)return!1;try{e=new jr([1,3.14,-3.14,128]),r=e,t=(wr&&r instanceof Int8Array||"[object Int8Array]"===it(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-128===e[3]}catch(e){t=!1}return t}()?_r:function(){throw new Error("not implemented")};var Or=Er,kr="function"==typeof Uint8Array;var Ar="function"==typeof Uint8Array?Uint8Array:null;var Tr,Sr="function"==typeof Uint8Array?Uint8Array:void 0;Tr=function(){var t,e,r;if("function"!=typeof Ar)return!1;try{e=new Ar(e=[1,3.14,-3.14,256,257]),r=e,t=(kr&&r instanceof Uint8Array||"[object Uint8Array]"===it(r))&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?Sr:function(){throw new Error("not implemented")};var xr=Tr,Ir="function"==typeof Uint8ClampedArray;var Vr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Fr,Pr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Fr=function(){var t,e,r;if("function"!=typeof Vr)return!1;try{e=new Vr([-1,0,1,3.14,4.99,255,256]),r=e,t=(Ir&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===it(r))&&0===e[0]&&0===e[1]&&1===e[2]&&3===e[3]&&5===e[4]&&255===e[5]&&255===e[6]}catch(e){t=!1}return t}()?Pr:function(){throw new Error("not implemented")};var Mr=Fr,Ur="function"==typeof Int16Array;var $r="function"==typeof Int16Array?Int16Array:null;var Cr,Rr="function"==typeof Int16Array?Int16Array:void 0;Cr=function(){var t,e,r;if("function"!=typeof $r)return!1;try{e=new $r([1,3.14,-3.14,32768]),r=e,t=(Ur&&r instanceof Int16Array||"[object Int16Array]"===it(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-32768===e[3]}catch(e){t=!1}return t}()?Rr:function(){throw new Error("not implemented")};var Nr=Cr,qr="function"==typeof Uint16Array;var Br="function"==typeof Uint16Array?Uint16Array:null;var Wr,Lr="function"==typeof Uint16Array?Uint16Array:void 0;Wr=function(){var t,e,r;if("function"!=typeof Br)return!1;try{e=new Br(e=[1,3.14,-3.14,65536,65537]),r=e,t=(qr&&r instanceof Uint16Array||"[object Uint16Array]"===it(r))&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?Lr:function(){throw new Error("not implemented")};var Gr=Wr,Hr="function"==typeof Int32Array;var Dr="function"==typeof Int32Array?Int32Array:null;var Xr,zr="function"==typeof Int32Array?Int32Array:void 0;Xr=function(){var t,e,r;if("function"!=typeof Dr)return!1;try{e=new Dr([1,3.14,-3.14,2147483648]),r=e,t=(Hr&&r instanceof Int32Array||"[object Int32Array]"===it(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-2147483648===e[3]}catch(e){t=!1}return t}()?zr:function(){throw new Error("not implemented")};var Zr=Xr,Yr="function"==typeof Uint32Array;var Jr="function"==typeof Uint32Array?Uint32Array:null;var Kr,Qr="function"==typeof Uint32Array?Uint32Array:void 0;Kr=function(){var t,e,r;if("function"!=typeof Jr)return!1;try{e=new Jr(e=[1,3.14,-3.14,4294967296,4294967297]),r=e,t=(Yr&&r instanceof Uint32Array||"[object Uint32Array]"===it(r))&&1===e[0]&&3===e[1]&&4294967293===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?Qr:function(){throw new Error("not implemented")};var tn=Kr,en="function"==typeof Float32Array;var rn="function"==typeof Float32Array?Float32Array:null;var nn,on="function"==typeof Float32Array?Float32Array:void 0;nn=function(){var t,e,r;if("function"!=typeof rn)return!1;try{e=new rn([1,3.14,-3.14,5e40]),r=e,t=(en&&r instanceof Float32Array||"[object Float32Array]"===it(r))&&1===e[0]&&3.140000104904175===e[1]&&-3.140000104904175===e[2]&&e[3]===Jt}catch(e){t=!1}return t}()?on:function(){throw new Error("not implemented")};var an=nn,un="function"==typeof Float64Array;var sn="function"==typeof Float64Array?Float64Array:null;var cn,fn="function"==typeof Float64Array?Float64Array:void 0;cn=function(){var t,e,r;if("function"!=typeof sn)return!1;try{e=new sn([1,3.14,-3.14,NaN]),r=e,t=(un&&r instanceof Float64Array||"[object Float64Array]"===it(r))&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){t=!1}return t}()?fn:function(){throw new Error("not implemented")};var ln=cn;function pn(t){return new Or(t)}function hn(t){return new xr(t)}function mn(t){return new Mr(t)}function yn(t){return new Nr(t)}function dn(t){return new Gr(t)}function gn(t){return new Zr(t)}function vn(t){return new tn(t)}function bn(t){return new an(t)}function wn(t){return new ln(t)}var jn={int8array:pn,uint8array:hn,uint8clampedarray:mn,int16array:yn,uint16array:dn,int32array:gn,uint32array:vn,float32array:bn,float64array:wn};function En(t,e,r,n,o){var i,a,u,s,c,f,l,p,h,m;if(o-=1,"object"!=typeof t||null===t)return t;if(kt(t))return br(t);if(function(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Error)return!0;for(;t;){if("[object Error]"===it(t))return!0;t=Re(t)}return!1}(t))return function(t){var e,r,n,o,i,a,u=[],s=[];for(i=new t.constructor(t.message),u.push(t),s.push(i),t.stack&&(i.stack=t.stack),t.code&&(i.code=t.code),t.errno&&(i.errno=t.errno),t.syscall&&(i.syscall=t.syscall),e=Ae(t),a=0;a<e.length;a++)o=e[a],rt(r=mr(t,o),"value")&&(n=Et(t[o])?[]:{},r.value=En(t[o],n,u,s,-1)),B(i,o,r);return i}(t);if("date"===(u=Tt(t)))return new Date(+t);if("regexp"===u)return function(t){if(!$t(t))throw new TypeError(P("invalid argument. Must provide a regular expression string. Value: `%s`.",t));return(t=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(t))?new RegExp(t[1],t[2]):null}(t.toString());if("set"===u)return new Set(t);if("map"===u)return new Map(t);if("string"===u||"boolean"===u||"number"===u)return t.valueOf();if(c=jn[u])return c(t);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(t){var e,r,n,o,i,a,u,s;for(e=[],o=[],u=Object.create(Re(t)),e.push(t),o.push(u),r=lr(t),s=0;s<r.length;s++)n=r[s],rt(i=mr(t,n),"value")&&(a=Et(t[n])?[]:{},i.value=En(t[n],a,e,o,-1)),B(u,n,i);return Object.isExtensible(t)||Object.preventExtensions(u),Object.isSealed(t)&&Object.seal(u),Object.isFrozen(t)&&Object.freeze(u),u}(t):{};if(a=Ae(t),o>0)for(i=u,m=0;m<a.length;m++)p=t[f=a[m]],u=Tt(p),"object"!=typeof p||null===p||"array"!==u&&"object"!==u||kt(p)?"object"===i?(rt(s=mr(t,f),"value")&&(s.value=En(p)),B(e,f,s)):e[f]=En(p):-1===(h=ge(r,p))?(l=Et(p)?new Array(p.length):{},r.push(p),n.push(l),"array"===i?e[f]=En(p,l,r,n,o):(rt(s=mr(t,f),"value")&&(s.value=En(p,l,r,n,o)),B(e,f,s))):e[f]=n[h];else if("array"===u)for(m=0;m<a.length;m++)e[f=a[m]]=t[f];else for(m=0;m<a.length;m++)f=a[m],s=mr(t,f),B(e,f,s);return Object.isExtensible(t)||Object.preventExtensions(e),Object.isSealed(t)&&Object.seal(e),Object.isFrozen(t)&&Object.freeze(e),e}function _n(t,e){var r;if(arguments.length>1){if(!nr(e))throw new TypeError(P("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",e));if(0===e)return t}else e=Jt;return En(t,r=Et(t)?new Array(t.length):{},[t],[r],e)}var On=e;function kn(){return On.hrtime()}var An=4294967295;function Tn(t){if("function"!=typeof t)throw new TypeError(P("invalid argument. Must provide a function. Value: `%s`.",t));return function(e){var r,n;if(!function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&te(t.length)&&t.length>=0&&t.length<=An}(e))return!1;if(0===(r=e.length))return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}}var Sn=Tn(ir.isPrimitive),xn=Tn(ir.isObject),In=Tn(ir);W(In,"primitives",Sn),W(In,"objects",xn);var Vn=setTimeout,Fn=clearTimeout;var Pn=void 0!==String.prototype.trim,Mn=String.prototype.trim;function Un(t,e,r){return t.replace(e,r)}var $n=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;var Cn=Pn&&""===Mn.call(" \n\t\r\n\f\v            \u2028\u2029  　\ufeff")&&"᠎"===Mn.call("᠎")?function(t){return Mn.call(t)}:function(t){return Un(t,$n,"$1")};var Rn="\\r?\\n";function Nn(t){var e,r;if(arguments.length>0){if(r=function(t,e){return qe(e)?rt(e,"flags")&&(t.flags=e.flags,!$t(t.flags))?new TypeError(P("invalid option. `%s` option must be a string. Option: `%s`.","flags",t.flags)):rt(e,"capture")&&(t.capture=e.capture,!J(t.capture))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","capture",t.capture)):null:new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",e))}(e={},t),r)throw r;return e.capture?new RegExp("(\\r?\\n)",e.flags):new RegExp(Rn,e.flags)}return/\r?\n/}var qn=Nn({capture:!0}),Bn=Nn();W(Nn,"REGEXP",Bn),W(Nn,"REGEXP_CAPTURE",qn);var Wn=/^#\s*/;function Ln(t){setTimeout(t,0)}var Gn=n.EventEmitter;function Hn(t,e,r){var n,o,i,a;return this instanceof Hn?(i=this,n=!1,o=!1,Gn.call(this),W(this,"_benchmark",r),W(this,"_skip",e.skip),B(this,"_ended",{configurable:!1,enumerable:!1,writable:!0,value:!1}),B(this,"_running",{configurable:!1,enumerable:!1,writable:!0,value:!1}),B(this,"_exited",{configurable:!1,enumerable:!1,writable:!0,value:!1}),B(this,"_count",{configurable:!1,enumerable:!1,writable:!0,value:0}),W(this,"name",t),W(this,"tic",(function(){n?i.fail(".tic() called more than once"):(i.emit("tic"),n=!0,a=kn())})),W(this,"toc",(function(){var t,e,r,u;if(!1===n)return i.fail(".toc() called before .tic()");if(t=function(t){var e,r,n=kn();if(!Sn(t))throw new TypeError(P("invalid argument. Must provide an array of nonnegative integers. Value: `%s`.",t));if(2!==t.length)throw new RangeError(P("invalid argument. Input array must contain two elements. Value: `%s`.",t));return e=n[0]-t[0],r=n[1]-t[1],e>0&&r<0?(e-=1,r+=1e9):e<0&&r>0&&(e+=1,r-=1e9),[e,r]}(a),o)return i.fail(".toc() called more than once");o=!0,i.emit("toc"),e=t[0]+t[1]/1e9,r=i.iterations/e,u={ok:!0,operator:"result",iterations:i.iterations,elapsed:e,rate:r},i.emit("result",u)})),W(this,"iterations",e.iterations),W(this,"timeout",e.timeout),this):new Hn(t,e,r)}Z(Hn,Gn),W(Hn.prototype,"run",(function(){var t,e;if(this._skip)return this.comment("SKIP "+this.name),this.end();if(!this._benchmark)return this.comment("TODO "+this.name),this.end();t=this,this._running=!0,e=Vn((function(){t.fail("benchmark timed out after "+t.timeout+"ms")}),this.timeout),this.once("end",(function(){Fn(e)})),this.emit("prerun"),this._benchmark(this),this.emit("run")})),W(Hn.prototype,"exit",(function(){this._exited||this._ended||(this._exited=!0,this.fail("benchmark exited without ending"),this._running||this.end())})),W(Hn.prototype,"ended",(function(){return this._ended})),W(Hn.prototype,"_assert",(function(t,e){var r;r={id:this._count,ok:t,skip:e.skip,todo:e.todo,name:e.message||"(unnamed assert)",operator:e.operator},rt(e,"actual")&&(r.actual=e.actual),rt(e,"expected")&&(r.expected=e.expected),t||(r.error=e.error||new Error(this.name)),this._count+=1,this.emit("result",r)})),W(Hn.prototype,"comment",(function(t){var e,r;for(e=(t=Cn(t)).split(Bn),r=0;r<e.length;r++)t=Un(t=Cn(e[r]),Wn,""),this.emit("result",t)})),W(Hn.prototype,"skip",(function(t,e){this._assert(!0,{message:e,operator:"skip",skip:!0})})),W(Hn.prototype,"todo",(function(t,e){this._assert(!!t,{message:e,operator:"todo",todo:!0})})),W(Hn.prototype,"fail",(function(t){this._assert(!1,{message:t,operator:"fail"})})),W(Hn.prototype,"pass",(function(t){this._assert(!0,{message:t,operator:"pass"})})),W(Hn.prototype,"ok",(function(t,e){this._assert(!!t,{message:e||"should be truthy",operator:"ok",expected:!0,actual:t})})),W(Hn.prototype,"notOk",(function(t,e){this._assert(!t,{message:e||"should be falsy",operator:"notOk",expected:!1,actual:t})})),W(Hn.prototype,"equal",(function(t,e,r){this._assert(t===e,{message:r||"should be equal",operator:"equal",expected:e,actual:t})})),W(Hn.prototype,"notEqual",(function(t,e,r){this._assert(t!==e,{message:r||"should not be equal",operator:"notEqual",expected:e,actual:t})})),W(Hn.prototype,"deepEqual",(function(t,e,r){this.comment("actual: "+t+". expected: "+e+". msg: "+r+".")})),W(Hn.prototype,"notDeepEqual",(function(t,e,r){this.comment("actual: "+t+". expected: "+e+". msg: "+r+".")})),W(Hn.prototype,"end",(function(){var t=this;this._ended?this.fail(".end() called more than once"):Ln((function(){t.emit("end")})),this._ended=!0,this._running=!1}));var Dn=/\s+/g;var Xn="  ",zn=Xn+"---\n",Zn=Xn+"...\n";var Yn=n.EventEmitter;function Jn(){return this instanceof Jn?(Yn.call(this),B(this,"_benchmarks",{value:[],configurable:!1,writable:!1,enumerable:!1}),B(this,"_stream",{value:new Qe,configurable:!1,writable:!1,enumerable:!1}),B(this,"_closed",{value:!1,configurable:!1,writable:!0,enumerable:!1}),B(this,"_running",{value:!1,configurable:!1,writable:!0,enumerable:!1}),B(this,"total",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"fail",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"pass",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"skip",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"todo",{value:0,configurable:!1,writable:!0,enumerable:!0}),this):new Jn}Z(Jn,Yn),B(Jn.prototype,"push",{value:function(t){var e=this;this._benchmarks.push(t),t.once("prerun",(function(){e._stream.write("# "+t.name+"\n")})),t.on("result",(function(t){if($t(t))return e._stream.write("# "+t+"\n");if("result"===t.operator)return n=zn,n+=Xn+"iterations: "+(r=t).iterations+"\n",n+=Xn+"elapsed: "+r.elapsed+"\n",t=(n+=Xn+"rate: "+r.rate+"\n")+Zn,e._stream.write(t);var r,n;e.total+=1,t.ok?(t.skip?e.skip+=1:t.todo&&(e.todo+=1),e.pass+=1):t.todo?(e.pass+=1,e.todo+=1):e.fail+=1;t=function(t,e){var r,n,o,i,a,u,s,c;if(s="",t.ok||(s+="not "),s+="ok "+e,t.name&&(s+=" "+Un(t.name.toString(),Dn," ")),t.skip?s+=" # SKIP":t.todo&&(s+=" # TODO"),s+="\n",t.ok)return s;if(s+="  ---\n",s+="  operator: "+t.operator+"\n",(rt(t,"actual")||rt(t,"expected"))&&(o=t.expected,(i=t.actual)!=i&&o!=o))throw new Error("unexpected error.");if(t.at&&(s+="  at: "+t.at+"\n"),t.actual&&(r=t.actual.stack),t.error&&(n=t.error.stack),a=r||n)for(u=a.toString().split(Bn),s+="  stack: |-\n",c=0;c<u.length;c++)s+="    "+u[c]+"\n";return s+"  ...\n"}(t,e.total),e._stream.write(t)})),this.emit("_push",t)},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"createStream",{value:function(t){var e,r,n,o;return n=this,e=new Qe(r=arguments.length?t:{}),r.objectMode?(o=0,this.on("_push",(function(t){var r=o;function n(){var n={type:"benchmark",name:t.name,id:r};e.write(n)}function i(t){$t(t)?t={benchmark:r,type:"comment",name:t}:"result"===t.operator?(t.benchmark=r,t.type="result"):(t.benchmark=r,t.type="assert"),e.write(t)}function a(){e.write({benchmark:r,type:"end"})}o+=1,t.once("prerun",n),t.on("result",i),t.on("end",a)})),this.on("done",(function(){e.destroy()}))):(e.write("TAP version 13\n"),this._stream.pipe(e)),this.on("_run",(function(){if(!n._running)return n._running=!0,i()})),e;function i(){Ln(a)}function a(){var t=n._benchmarks.shift();if(t)return t.run(),t.ended()?i():t.once("end",i);n._running=!1,n.emit("done")}},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"run",{value:function(){this.emit("_run")},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"clear",{value:function(){this._benchmarks.length=0},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"close",{value:function(){var t=this;this._closed||(this._closed=!0,this._benchmarks.length?(this.clear(),this._stream.write("# WARNING: harness closed before completion.\n")):(this._stream.write("#\n"),this._stream.write("1.."+this.total+"\n"),this._stream.write("# total "+this.total+"\n"),this._stream.write("# pass  "+this.pass+"\n"),this.fail&&this._stream.write("# fail  "+this.fail+"\n"),this.skip&&this._stream.write("# skip  "+this.skip+"\n"),this.todo&&this._stream.write("# todo  "+this.todo+"\n"),this.fail||this._stream.write("#\n# ok\n")),this._stream.once("close",(function(){t.emit("close")})),this._stream.destroy())},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"exit",{value:function(){var t,e;for(e=0;e<this._benchmarks.length;e++)this._benchmarks[e].exit();t=this,this.clear(),this._stream.once("close",(function(){t.emit("close")})),this._stream.destroy()},configurable:!1,writable:!1,enumerable:!1});var Kn={skip:!1,iterations:null,repeats:3,timeout:3e5};function Qn(t){return re(t)&&t>0}function to(t){return ne(t)&&t.valueOf()>0}function eo(t){return Qn(t)||to(t)}function ro(t,e){return qe(e)?rt(e,"skip")&&(t.skip=e.skip,!J(t.skip))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","skip",t.skip)):rt(e,"iterations")&&(t.iterations=e.iterations,!Qn(t.iterations)&&null!==t.iterations)?new TypeError(P("invalid option. `%s` option must be either a positive integer or null. Option: `%s`.","iterations",t.iterations)):rt(e,"repeats")&&(t.repeats=e.repeats,!Qn(t.repeats))?new TypeError(P("invalid option. `%s` option must be a positive integer. Option: `%s`.","repeats",t.repeats)):rt(e,"timeout")&&(t.timeout=e.timeout,!Qn(t.timeout))?new TypeError(P("invalid option. `%s` option must be a positive integer. Option: `%s`.","timeout",t.timeout)):null:new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",e))}W(eo,"isPrimitive",Qn),W(eo,"isObject",to);var no=.1,oo=10,io=1e10;function ao(t,e,r,n){if(!r)return e.repeats=1,n(t,e,r);if(e.skip)return e.repeats=1,n(t,e,r);function o(o,i){return o?(e.repeats=1,e.iterations=1,n(t,e,r)):(e.iterations=i,n(t,e,r))}!function(t,e,r,n){var o,i,a,u,s;a=0,u=0,(i=_n(e)).iterations=1,(s=new Hn(t,i,r)).on("result",(function(t){$t(t)||t.ok||t.todo||(o=!0)})),s.on("tic",(function(){a+=1})),s.on("toc",(function(){u+=1})),s.once("end",(function(){var t;return o?t=new Error("unexpected error. Benchmark failed."):1===a&&1===u||(t=new Error("unexpected error. Invalid benchmark.")),t?n(t):n()})),s.run()}(t,e,r,(function(i){if(i)return e.repeats=1,e.iterations=1,n(t,e,r);if(e.iterations)return n(t,e,r);!function(t,e,r,n){var o,i;return i=0,(o=_n(e)).iterations=oo,a();function a(){var e=new Hn(t,o,r);e.on("result",u),e.once("end",s),e.run()}function u(t){$t(t)||"result"!==t.operator||(i=t.elapsed)}function s(){if(i<no&&o.iterations<io)return o.iterations*=10,a();n(null,o.iterations)}}(t,e,r,o)}))}function uo(t,e){var r,n,o,i,a;if(i={},1===arguments.length)if(St(t))a=t;else{if(!qe(t))throw new TypeError(P("invalid argument. Must provide either an options object or a function. Value: `%s`.",t));i=t}else if(arguments.length>1){if(!qe(t))throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",t));if(rt(t,"autoclose")&&(i.autoclose=t.autoclose,!J(i.autoclose)))throw new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","autoclose",i.autoclose));if(!St(a=e))throw new TypeError(P("invalid argument. Second argument must be a function. Value: `%s`.",a))}function u(t,e,r){var n,i,a;if(!$t(t))throw new TypeError(P("invalid argument. First argument must be a string. Value: `%s`.",t));if(n=_n(Kn),2===arguments.length){if(St(e))a=e;else if(i=ro(n,e))throw i}else if(arguments.length>2){if(i=ro(n,e))throw i;if(!St(a=r))throw new TypeError(P("invalid argument. Third argument must be a function. Value: `%s`.",a))}return o.push([t,n,a]),1===o.length&&Ln(s),u}function s(){var t=-1;return e();function e(){var e;if((t+=1)===o.length)return o.length=0,n.run();ao((e=o[t])[0],e[1],e[2],r)}function r(t,r,o){var i,a;for(a=0;a<r.repeats;a++)(i=new Hn(t,r,o)).on("result",c),n.push(i);return e()}}function c(t){$t(t)||t.ok||t.todo||(r=1)}function f(){n.close()}return n=new Jn,i.autoclose&&n.once("done",f),a&&n.once("done",a),r=0,o=[],W(u,"createStream",(function(t){return arguments.length?n.createStream(t):n.createStream()})),W(u,"close",f),W(u,"exit",(function(){n.exit()})),function(t,e,r){B(t,e,{configurable:!1,enumerable:!1,get:r})}(u,"exitCode",(function(){return r})),u}var so=Object.prototype.toString;var co=new Function("try {return this === global;} catch ( err ) {return false;}")(),fo=e,lo=yt(),po=/node|io\.js/;var ho,mo="object"==typeof global&&global===lo&&lo===lo.global&&("[object global]"===it(lo)||"[object Object]"===it(lo))&&!0===co&&"object"==typeof fo&&"[object process]"===(ho=fo,so.call(ho))&&qe(fo.versions)&&$t(fo.versions.node)&&(void 0===fo.release||qe(fo.release)&&$t(fo.release.name)&&po.test(fo.release.name));var yo=new Function("try {return this === window;} catch ( err ) {return false;}")(),go=yt();var vo=!1===mo&&"object"==typeof window&&window===go&&!0===yo,bo=e,wo=bo&&"function"==typeof bo.exit,jo=!vo&&wo;var Eo=_t(qt.isPrimitive),_o=_t(qt.isObject),Oo=_t(qt);W(Oo,"primitives",Eo),W(Oo,"objects",_o);var ko,Ao=1114111,To=65535,So=String.fromCharCode,xo=65536,Io=55296,Vo=56320,Fo=1023;function Po(t){var e,r,n,o,i;if(1===(e=arguments.length)&&de(t))e=(n=arguments[0]).length;else for(n=[],i=0;i<e;i++)n.push(arguments[i]);if(0===e)throw new Error("insufficient arguments. Must provide either an array of code points or one or more code points as separate arguments.");for(r="",i=0;i<e;i++){if(!nr(o=n[i]))throw new TypeError(P("invalid argument. Must provide valid code points (i.e., nonnegative integers). Value: `%s`.",o));if(o>Ao)throw new RangeError(P("invalid argument. Must provide a valid code point (i.e., cannot exceed %u). Value: `%s`.",Ao,o));r+=o<=To?So(o):So(((o-=xo)>>10)+Io,(o&Fo)+Vo)}return r}function Mo(){var t,e;return t=new Qe({transform:function(t,n,o){var i,a;for(a=0;a<t.length;a++)"\n"===(i=Po(t[a]))?r():e+=i;o()},flush:r}),e="",t;function r(r){try{n=e,console.log(n)}catch(e){t.emit("error",e)}var n;if(e="",r)return r()}}function Uo(){var t,e,r,n,o,i,a;if(0===arguments.length)n={},a=pe;else if(1===arguments.length)if(St(arguments[0]))n={},a=arguments[0];else{if(!qe(arguments[0]))throw new TypeError(P("invalid argument. Must provide either an options object or a function. Value: `%s`.",arguments[0]));n=arguments[0],a=pe}else{if(!qe(n=arguments[0]))throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",n));if(!St(a=arguments[1]))throw new TypeError(P("invalid argument. Second argument must be a function. Value: `%s`.",a))}if(i={},rt(n,"autoclose")&&(i.autoclose=n.autoclose,!J(i.autoclose)))throw new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","autoclose",i.autoclose));if(rt(n,"stream")&&(i.stream=n.stream,!function(t){return function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.on&&"function"==typeof t.once&&"function"==typeof t.emit&&"function"==typeof t.addListener&&"function"==typeof t.removeListener&&"function"==typeof t.removeAllListeners&&"function"==typeof t.pipe}(t)&&"function"==typeof t._write&&"object"==typeof t._writableState}(i.stream)))throw new TypeError(P("invalid option. `%s` option must be a writable stream. Option: `%s`.","stream",i.stream));return t=0,o=function(t,e){var r,n,o;if("object"!=typeof t||null===t)throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",t));if(r={},$t(e))return rt(t,e)&&(r[e]=t[e]),r;if(Eo(e)){for(o=0;o<e.length;o++)rt(t,n=e[o])&&(r[n]=t[n]);return r}throw new TypeError(P("invalid argument. Second argument must be either a string or an array of strings. Value: `%s`.",e))}(i,["autoclose"]),r=uo(o,(function(){return a()})),o=function(t,e){var r,n,o,i;if("object"!=typeof t||null===t)throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",t));if(r=Ae(t),n={},$t(e)){for(i=0;i<r.length;i++)(o=r[i])!==e&&(n[o]=t[o]);return n}if(Eo(e)){for(i=0;i<r.length;i++)-1===ge(e,o=r[i])&&(n[o]=t[o]);return n}throw new TypeError(P("invalid argument. Second argument must be either a string or an array of strings. Value: `%s`.",e))}(n,["autoclose","stream"]),e=r.createStream(o).pipe(i.stream||Mo()),jo&&(e.on("error",(function(){t=1})),bo.on("exit",(function(e){if(0!==e)return;r.close(),bo.exit(t||r.exitCode)}))),r}function $o(t,e){var r,n;return ko||(arguments.length>1?(r=t,n=e):(r={},n=t),r.autoclose=!jo,ko=Uo(r,n),$o.cached=!0,ko)}var Co=[];function Ro(){var t,e;for(t=Co.length,e=0;e<t;e++)Co.shift()()}function No(t,e,r){var n=$o(Ro);return arguments.length<2?n(t):2===arguments.length?n(t,e):n(t,e,r),No}return W(No,"createHarness",uo),W(No,"createStream",(function(t){var e,r;return r=arguments.length?t:{},$o.cached?$o().createStream(r):(e=new Qe(r),r.stream=e,$o(r,Ro),e)})),W(No,"onFinish",(function(t){var e;if(!St(t))throw new TypeError(P("invalid argument. Must provide a function. Value: `%s`.",t));for(e=0;e<Co.length;e++)if(t===Co[e])throw new Error("invalid argument. Attempted to add duplicate listener.");Co.push(t)})),No}));
//# sourceMappingURL=index.js.map
