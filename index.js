// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream"),require("process"),require("buffer"),require("events")):"function"==typeof define&&define.amd?define(["stream","process","buffer","events"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).bench=t(e.require$$1,e.require$$0$1,e.require$$0$2,e.require$$0$3)}(this,(function(e,t,r,n){"use strict";var o="function"==typeof Object.defineProperty?Object.defineProperty:null;var i=Object.defineProperty;function a(e){return"number"==typeof e}function u(e){var t,r="";for(t=0;t<e;t++)r+="0";return r}function s(e,t,r){var n=!1,o=t-e.length;return o<0||(function(e){return"-"===e[0]}(e)&&(n=!0,e=e.substr(1)),e=r?e+u(o):u(o)+e,n&&(e="-"+e)),e}var c=String.prototype.toLowerCase,f=String.prototype.toUpperCase;function l(e){var t,r,n;switch(e.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;default:t=10}if(r=e.arg,n=parseInt(r,10),!isFinite(n)){if(!a(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===e.specifier||10!==t)&&(n=4294967295+n+1),n<0?(r=(-n).toString(t),e.precision&&(r=s(r,e.precision,e.padRight)),r="-"+r):(r=n.toString(t),n||e.precision?e.precision&&(r=s(r,e.precision,e.padRight)):r="",e.sign&&(r=e.sign+r)),16===t&&(e.alternate&&(r="0x"+r),r=e.specifier===f.call(e.specifier)?f.call(r):c.call(r)),8===t&&e.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}var p=Math.abs,h=String.prototype.toLowerCase,m=String.prototype.toUpperCase,y=String.prototype.replace,d=/e\+(\d)$/,g=/e-(\d)$/,v=/^(\d+)$/,b=/^(\d+)e/,w=/\.0$/,j=/\.0*e/,E=/(\..*[^0])0*e/;function _(e,t){var r,n;switch(t.specifier){case"e":case"E":n=e.toExponential(t.precision);break;case"f":case"F":n=e.toFixed(t.precision);break;case"g":case"G":p(e)<1e-4?((r=t.precision)>0&&(r-=1),n=e.toExponential(r)):n=e.toPrecision(t.precision),t.alternate||(n=y.call(n,E,"$1e"),n=y.call(n,j,"e"),n=y.call(n,w,""));break;default:throw new Error("invalid double notation. Value: "+t.specifier)}return n=y.call(n,d,"e+0$1"),n=y.call(n,g,"e-0$1"),t.alternate&&(n=y.call(n,v,"$1."),n=y.call(n,b,"$1.e")),e>=0&&t.sign&&(n=t.sign+n),n=t.specifier===m.call(t.specifier)?m.call(n):h.call(n)}function O(e){var t,r="";for(t=0;t<e;t++)r+=" ";return r}var k=String.fromCharCode,A=Array.isArray;function T(e){return e!=e}function S(e){var t={};return t.specifier=e.specifier,t.precision=void 0===e.precision?1:e.precision,t.width=e.width,t.flags=e.flags||"",t.mapping=e.mapping,t}function x(e){var t,r,n,o,i,u,c,f,p,h,m,y,d,g;if(!A(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(u="",c=1,p=0;p<e.length;p++)if(n=e[p],"string"==typeof n)u+=n;else{if(t=void 0!==n.precision,!(n=S(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+p+"`. Value: `"+n+"`.");for(n.mapping&&(c=n.mapping),r=n.flags,h=0;h<r.length;h++)switch(o=r.charAt(h)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===n.width){if(n.width=parseInt(arguments[c],10),c+=1,T(n.width))throw new TypeError("the argument for * width at position "+c+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(t&&"*"===n.precision){if(n.precision=parseInt(arguments[c],10),c+=1,T(n.precision))throw new TypeError("the argument for * precision at position "+c+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,t=!1)}switch(n.arg=arguments[c],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(n.padZeros=!1),n.arg=l(n);break;case"s":n.maxWidth=t?n.precision:-1,n.arg=String(n.arg);break;case"c":if(!T(n.arg)){if((i=parseInt(n.arg,10))<0||i>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=T(i)?String(n.arg):k(i)}break;case"e":case"E":case"f":case"F":case"g":case"G":if(t||(n.precision=6),f=parseFloat(n.arg),!isFinite(f)){if(!a(n.arg))throw new Error("invalid floating-point number. Value: "+u);f=n.arg,n.padZeros=!1}n.arg=_(f,n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=s(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=(m=n.arg,y=n.width,d=n.padRight,g=void 0,(g=y-m.length)<0?m:m=d?m+O(g):O(g)+m)),u+=n.arg||"",c+=1}return u}var I=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function V(e){var t={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(t.precision="1"),t}function F(e){var t,r,n,o;for(r=[],o=0,n=I.exec(e);n;)(t=e.slice(o,I.lastIndex-n[0].length)).length&&r.push(t),"%"===n[6]?r.push("%"):r.push(V(n)),o=I.lastIndex,n=I.exec(e);return(t=e.slice(o)).length&&r.push(t),r}function P(e){var t,r;if("string"!=typeof e)throw new TypeError(P("invalid argument. First argument must be a string. Value: `%s`.",e));for(t=[F(e)],r=1;r<arguments.length;r++)t.push(arguments[r]);return x.apply(null,t)}var M,U=Object.prototype,$=U.toString,C=U.__defineGetter__,R=U.__defineSetter__,N=U.__lookupGetter__,q=U.__lookupSetter__;M=function(){try{return o({},"x",{}),!0}catch(e){return!1}}()?i:function(e,t,r){var n,o,i,a;if("object"!=typeof e||null===e||"[object Array]"===$.call(e))throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",e));if("object"!=typeof r||null===r||"[object Array]"===$.call(r))throw new TypeError(P("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((o="value"in r)&&(N.call(e,t)||q.call(e,t)?(n=e.__proto__,e.__proto__=U,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),i="get"in r,a="set"in r,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&C&&C.call(e,t,r.get),a&&R&&R.call(e,t,r.set),e};var B=M;function W(e,t,r){B(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})}function L(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var G=L(Object.freeze({__proto__:null,default:()=>()=>{}}));function H(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError(P("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",e)):null}var D=Object.create;function X(){}var z="function"==typeof D?D:function(e){return X.prototype=e,new X};function Z(e,t){var r=H(e);if(r)throw r;if(r=H(t))throw r;if(void 0===t.prototype)throw new TypeError(P("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",t.prototype));return e.prototype=z(t.prototype),B(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e}),e}var Y=/./;function J(e){return"boolean"==typeof e}var K="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function Q(){return K&&"symbol"==typeof Symbol.toStringTag}var ee=Object.prototype.toString;var te=Object.prototype.hasOwnProperty;function re(e,t){return null!=e&&te.call(e,t)}var ne="function"==typeof Symbol?Symbol:void 0,oe="function"==typeof ne?ne.toStringTag:"";var ie=Q()?function(e){var t,r,n;if(null==e)return ee.call(e);r=e[oe],t=re(e,oe);try{e[oe]=void 0}catch(t){return ee.call(e)}return n=ee.call(e),t?e[oe]=r:delete e[oe],n}:function(e){return ee.call(e)},ae=Boolean,ue=Boolean.prototype.toString;var se=Q();function ce(e){return"object"==typeof e&&(e instanceof ae||(se?function(e){try{return ue.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===ie(e)))}function fe(e){return J(e)||ce(e)}W(fe,"isPrimitive",J),W(fe,"isObject",ce);var le="object"==typeof self?self:null,pe="object"==typeof window?window:null,he="object"==typeof global?global:null,me="object"==typeof globalThis?globalThis:null;function ye(e){if(arguments.length){if(!J(e))throw new TypeError(P("invalid argument. Must provide a boolean. Value: `%s`.",e));if(e)return new Function("return this;")()}if(me)return me;if(le)return le;if(pe)return pe;if(he)return he;throw new Error("unexpected error. Unable to resolve global object.")}var de=ye(),ge=de.document&&de.document.childNodes,ve=Int8Array;function be(){return/^\s*function\s*([^(]*)/i}var we,je=/^\s*function\s*([^(]*)/i;W(be,"REGEXP",je),we=Array.isArray?Array.isArray:function(e){return"[object Array]"===ie(e)};var Ee=we;function _e(e){if("function"!=typeof e)throw new TypeError(P("invalid argument. Must provide a function. Value: `%s`.",e));return function(t){var r,n;if(!Ee(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}function Oe(e){return null!==e&&"object"==typeof e}function ke(e){return Oe(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Ae(e){var t,r,n;if(("Object"===(r=ie(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=je.exec(n.toString()))return t[1]}return ke(e)?"Buffer":r}W(Oe,"isObjectLikeArray",_e(Oe));var Te="function"==typeof Y||"object"==typeof ve||"function"==typeof ge?function(e){return Ae(e).toLowerCase()}:function(e){var t;return null===e?"null":"object"===(t=typeof e)?Ae(e).toLowerCase():t};function Se(e){return"function"===Te(e)}var xe=Se(Object.assign),Ie=Object.assign;function Ve(e){return Object.keys(Object(e))}var Fe,Pe=void 0!==Object.keys;function Me(e){return"[object Arguments]"===ie(e)}Fe=function(){return Me(arguments)}();var Ue=Fe;function $e(e){return"string"==typeof e}var Ce=String.prototype.valueOf;var Re=Q();function Ne(e){return"object"==typeof e&&(e instanceof String||(Re?function(e){try{return Ce.call(e),!0}catch(e){return!1}}(e):"[object String]"===ie(e)))}function qe(e){return $e(e)||Ne(e)}function Be(e){return"number"==typeof e}W(qe,"isPrimitive",$e),W(qe,"isObject",Ne);var We=Number,Le=We.prototype.toString;var Ge=Q();function He(e){return"object"==typeof e&&(e instanceof We||(Ge?function(e){try{return Le.call(e),!0}catch(e){return!1}}(e):"[object Number]"===ie(e)))}function De(e){return Be(e)||He(e)}function Xe(e){return e!=e}function ze(e){return Be(e)&&Xe(e)}function Ze(e){return He(e)&&Xe(e.valueOf())}function Ye(e){return ze(e)||Ze(e)}W(De,"isPrimitive",Be),W(De,"isObject",He),W(Ye,"isPrimitive",ze),W(Ye,"isObject",Ze);var Je=Number.POSITIVE_INFINITY,Ke=We.NEGATIVE_INFINITY,Qe=Math.floor;function et(e){return Qe(e)===e}function tt(e){return e<Je&&e>Ke&&et(e)}function rt(e){return Be(e)&&tt(e)}function nt(e){return He(e)&&tt(e.valueOf())}function ot(e){return rt(e)||nt(e)}W(ot,"isPrimitive",rt),W(ot,"isObject",nt);var it=Object.prototype.propertyIsEnumerable;var at=!it.call("beep","0");function ut(e,t){var r;return null!=e&&(!(r=it.call(e,t))&&at&&qe(e)?!ze(t=+t)&&rt(t)&&t>=0&&t<e.length:r)}var st,ct=4294967295;st=Ue?Me:function(e){return null!==e&&"object"==typeof e&&!Ee(e)&&"number"==typeof e.length&&et(e.length)&&e.length>=0&&e.length<=ct&&re(e,"callee")&&!ut(e,"callee")};var ft=st,lt=Array.prototype.slice;function pt(){}var ht=ut(pt,"prototype"),mt=!ut({toString:null},"toString"),yt=9007199254740991;function dt(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&et(e.length)&&e.length>=0&&e.length<=yt}function gt(e,t,r){var n,o;if(!dt(e)&&!$e(e))throw new TypeError(P("invalid argument. First argument must be an array-like object. Value: `%s`.",e));if(0===(n=e.length))return-1;if(3===arguments.length){if(!rt(r))throw new TypeError(P("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=n)return-1;o=r}else(o=n+r)<0&&(o=0)}else o=0;if(Ye(t)){for(;o<n;o++)if(Ye(e[o]))return o}else for(;o<n;o++)if(e[o]===t)return o;return-1}function vt(e){return e.constructor&&e.constructor.prototype===e}var bt=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],wt="undefined"==typeof window?void 0:window;var jt=function(){var e;if("undefined"===Te(wt))return!1;for(e in wt)try{-1===gt(bt,e)&&re(wt,e)&&null!==wt[e]&&"object"===Te(wt[e])&&vt(wt[e])}catch(e){return!0}return!1}(),Et="undefined"!=typeof window;var _t,Ot=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];_t=Pe?function(){return 2!==(Ve(arguments)||"").length}(1,2)?function(e){return ft(e)?Ve(lt.call(e)):Ve(e)}:Ve:function(e){var t,r,n,o,i,a,u;if(o=[],ft(e)){for(u=0;u<e.length;u++)o.push(u.toString());return o}if("string"==typeof e){if(e.length>0&&!re(e,"0"))for(u=0;u<e.length;u++)o.push(u.toString())}else{if(!1==(n="function"==typeof e)&&!Oe(e))return o;r=ht&&n}for(i in e)r&&"prototype"===i||!re(e,i)||o.push(String(i));if(mt)for(t=function(e){if(!1===Et&&!jt)return vt(e);try{return vt(e)}catch(e){return!1}}(e),u=0;u<Ot.length;u++)a=Ot[u],t&&"constructor"===a||!re(e,a)||o.push(String(a));return o};var kt,At=_t,Tt=void 0!==Object.getOwnPropertySymbols,St=Object,xt=St.getOwnPropertySymbols;kt=Tt?function(e){return xt(St(e))}:function(){return[]};var It,Vt=kt;function Ft(e){var t,r,n;for(t=At(e),r=Vt(e),n=0;n<r.length;n++)ut(e,r[n])&&t.push(r[n]);return t}It=xe?Ie:function(e){var t,r,n,o,i,a,u;if(null==e)throw new TypeError(P("invalid argument. First argument must be a non-null object. Value: `%s`.",e));for(i=St(e),a=1;a<arguments.length;a++)if(null!=(t=arguments[a]))for(o=(r=Ft(St(t))).length,u=0;u<o;u++)i[n=r[u]]=t[n];return i};var Pt=It,Mt={objectMode:!1,encoding:null,allowHalfOpen:!1,decodeStrings:!0};var Ut,$t=Object.getPrototypeOf;Ut=Se(Object.getPrototypeOf)?$t:function(e){var t=function(e){return e.__proto__}(e);return t||null===t?t:"[object Function]"===ie(e.constructor)?e.constructor.prototype:e instanceof St?St.prototype:null};var Ct=Ut;function Rt(e){return null==e?null:(e=St(e),Ct(e))}var Nt=Object.prototype;function qt(e){var t;return!!function(e){return"object"==typeof e&&null!==e&&!Ee(e)}(e)&&(!(t=Rt(e))||!re(e,"constructor")&&re(t,"constructor")&&Se(t.constructor)&&"[object Function]"===ie(t.constructor)&&re(t,"isPrototypeOf")&&Se(t.isPrototypeOf)&&(t===Nt||function(e){var t;for(t in e)if(!re(e,t))return!1;return!0}(e)))}function Bt(e){return Be(e)&&e>=0}function Wt(e){return He(e)&&e.valueOf()>=0}function Lt(e){return Bt(e)||Wt(e)}function Gt(e,t){return qt(t)?re(t,"transform")&&(e.transform=t.transform,!Se(e.transform))?new TypeError(P("invalid option. `%s` option must be a function. Option: `%s`.","transform",e.transform)):re(t,"flush")&&(e.flush=t.flush,!Se(e.flush))?new TypeError(P("invalid option. `%s` option must be a function. Option: `%s`.","flush",e.flush)):re(t,"objectMode")&&(e.objectMode=t.objectMode,!J(e.objectMode))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):re(t,"encoding")&&(e.encoding=t.encoding,!$e(e.encoding))?new TypeError(P("invalid option. `%s` option must be a string. Option: `%s`.","encoding",e.encoding)):re(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!J(e.allowHalfOpen))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",e.allowHalfOpen)):re(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Bt(e.highWaterMark))?new TypeError(P("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):re(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!J(e.decodeStrings))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","decodeStrings",e.decodeStrings)):null:new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",t))}W(Lt,"isPrimitive",Bt),W(Lt,"isObject",Wt);var Ht=t;var Dt=G("transform-stream:destroy");function Xt(e){var t;return this._destroyed?(Dt("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,function(e){var t,r;for(t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);Ht.nextTick((function(){e.apply(null,t)}))}((function(){e&&(Dt("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Dt("Closing the stream..."),t.emit("close")})),this)}var zt=G("transform-stream:transform");function Zt(e,t,r){zt("Received a new chunk. Chunk: %s. Encoding: %s.",e.toString(),t),r(null,e)}var Yt=G,Jt=e.Transform,Kt=Yt("transform-stream:main");function Qt(e){var t,r;if(!(this instanceof Qt))return arguments.length?new Qt(e):new Qt;if(t=Pt({},Mt),arguments.length&&(r=Gt(t,e)))throw r;return Kt("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Jt.call(this,t),this._destroyed=!1,t.transform?this._transform=t.transform:this._transform=Zt,t.flush&&(this._flush=t.flush),this}Z(Qt,Jt),Qt.prototype.destroy=Xt;var er=G,tr=e.Transform,rr=er("transform-stream:ctor");function nr(e){return rt(e)&&e>=0}function or(e){return nt(e)&&e.valueOf()>=0}function ir(e){return nr(e)||or(e)}function ar(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}W(Qt,"objectMode",(function(e){var t;if(arguments.length){if(!qt(e))throw new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Pt({},e)}else t={};return t.objectMode=!0,new Qt(t)})),W(Qt,"factory",(function(e){var t;if(arguments.length){if(!qt(e))throw new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Pt({},e)}else t={};return function(e,r){t.transform=e,arguments.length>1?t.flush=r:delete t.flush;return new Qt(t)}})),W(Qt,"ctor",(function(e){var t,r,n;if(r=Pt({},Mt),arguments.length&&(n=Gt(r,e)))throw n;function o(e){var t,n;if(!(this instanceof o))return arguments.length?new o(e):new o;if(t=Pt({},r),arguments.length&&(n=Gt(t,e)))throw n;return rr("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),tr.call(this,t),this._destroyed=!1,this}return t=r.transform?r.transform:Zt,Z(o,tr),o.prototype._transform=t,r.flush&&(o.prototype._flush=r.flush),o.prototype.destroy=Xt,o})),W(ir,"isPrimitive",nr),W(ir,"isObject",or),W(ar,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var ur,sr=void 0!==Object.getOwnPropertyNames,cr=St.getOwnPropertyNames;ur=sr?function(e){return cr(St(e))}:function(e){return At(St(e))};var fr,lr=ur,pr=void 0!==Object.getOwnPropertyDescriptor,hr=Object.getOwnPropertyDescriptor;fr=pr?function(e,t){var r;return null==e||void 0===(r=hr(e,t))?null:r}:function(e,t){return re(e,t)?{configurable:!0,enumerable:!0,writable:!0,value:e[t]}:null};var mr=fr,yr="function"==typeof Buffer?Buffer:null;var dr,gr=r.Buffer;dr=function(){var e,t;if("function"!=typeof yr)return!1;try{e=ke(t="function"==typeof yr.from?yr.from([1,2,3,4]):new yr([1,2,3,4]))&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e}()?gr:function(){throw new Error("not implemented")};var vr=dr;var br=Se(vr.from)?function(e){if(!ke(e))throw new TypeError(P("invalid argument. Must provide a Buffer. Value: `%s`.",e));return vr.from(e)}:function(e){if(!ke(e))throw new TypeError(P("invalid argument. Must provide a Buffer. Value: `%s`.",e));return new vr(e)},wr="function"==typeof Int8Array;var jr="function"==typeof Int8Array?Int8Array:null;var Er,_r="function"==typeof Int8Array?Int8Array:void 0;Er=function(){var e,t,r;if("function"!=typeof jr)return!1;try{t=new jr([1,3.14,-3.14,128]),r=t,e=(wr&&r instanceof Int8Array||"[object Int8Array]"===ie(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e}()?_r:function(){throw new Error("not implemented")};var Or=Er,kr="function"==typeof Uint8Array;var Ar="function"==typeof Uint8Array?Uint8Array:null;var Tr,Sr="function"==typeof Uint8Array?Uint8Array:void 0;Tr=function(){var e,t,r;if("function"!=typeof Ar)return!1;try{t=new Ar(t=[1,3.14,-3.14,256,257]),r=t,e=(kr&&r instanceof Uint8Array||"[object Uint8Array]"===ie(r))&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?Sr:function(){throw new Error("not implemented")};var xr=Tr,Ir="function"==typeof Uint8ClampedArray;var Vr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Fr,Pr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Fr=function(){var e,t,r;if("function"!=typeof Vr)return!1;try{t=new Vr([-1,0,1,3.14,4.99,255,256]),r=t,e=(Ir&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===ie(r))&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e}()?Pr:function(){throw new Error("not implemented")};var Mr=Fr,Ur="function"==typeof Int16Array;var $r="function"==typeof Int16Array?Int16Array:null;var Cr,Rr="function"==typeof Int16Array?Int16Array:void 0;Cr=function(){var e,t,r;if("function"!=typeof $r)return!1;try{t=new $r([1,3.14,-3.14,32768]),r=t,e=(Ur&&r instanceof Int16Array||"[object Int16Array]"===ie(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e}()?Rr:function(){throw new Error("not implemented")};var Nr=Cr,qr="function"==typeof Uint16Array;var Br="function"==typeof Uint16Array?Uint16Array:null;var Wr,Lr="function"==typeof Uint16Array?Uint16Array:void 0;Wr=function(){var e,t,r;if("function"!=typeof Br)return!1;try{t=new Br(t=[1,3.14,-3.14,65536,65537]),r=t,e=(qr&&r instanceof Uint16Array||"[object Uint16Array]"===ie(r))&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?Lr:function(){throw new Error("not implemented")};var Gr=Wr,Hr="function"==typeof Int32Array;var Dr="function"==typeof Int32Array?Int32Array:null;var Xr,zr="function"==typeof Int32Array?Int32Array:void 0;Xr=function(){var e,t,r;if("function"!=typeof Dr)return!1;try{t=new Dr([1,3.14,-3.14,2147483648]),r=t,e=(Hr&&r instanceof Int32Array||"[object Int32Array]"===ie(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e}()?zr:function(){throw new Error("not implemented")};var Zr=Xr,Yr="function"==typeof Uint32Array;var Jr="function"==typeof Uint32Array?Uint32Array:null;var Kr,Qr="function"==typeof Uint32Array?Uint32Array:void 0;Kr=function(){var e,t,r;if("function"!=typeof Jr)return!1;try{t=new Jr(t=[1,3.14,-3.14,4294967296,4294967297]),r=t,e=(Yr&&r instanceof Uint32Array||"[object Uint32Array]"===ie(r))&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?Qr:function(){throw new Error("not implemented")};var en=Kr,tn="function"==typeof Float32Array;var rn="function"==typeof Float32Array?Float32Array:null;var nn,on="function"==typeof Float32Array?Float32Array:void 0;nn=function(){var e,t,r;if("function"!=typeof rn)return!1;try{t=new rn([1,3.14,-3.14,5e40]),r=t,e=(tn&&r instanceof Float32Array||"[object Float32Array]"===ie(r))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===Je}catch(t){e=!1}return e}()?on:function(){throw new Error("not implemented")};var an=nn,un="function"==typeof Float64Array;var sn="function"==typeof Float64Array?Float64Array:null;var cn,fn="function"==typeof Float64Array?Float64Array:void 0;cn=function(){var e,t,r;if("function"!=typeof sn)return!1;try{t=new sn([1,3.14,-3.14,NaN]),r=t,e=(un&&r instanceof Float64Array||"[object Float64Array]"===ie(r))&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e}()?fn:function(){throw new Error("not implemented")};var ln=cn;function pn(e){return new Or(e)}function hn(e){return new xr(e)}function mn(e){return new Mr(e)}function yn(e){return new Nr(e)}function dn(e){return new Gr(e)}function gn(e){return new Zr(e)}function vn(e){return new en(e)}function bn(e){return new an(e)}function wn(e){return new ln(e)}var jn={int8array:pn,uint8array:hn,uint8clampedarray:mn,int16array:yn,uint16array:dn,int32array:gn,uint32array:vn,float32array:bn,float64array:wn};function En(e,t,r,n,o){var i,a,u,s,c,f,l,p,h,m;if(o-=1,"object"!=typeof e||null===e)return e;if(ke(e))return br(e);if(function(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===ie(e))return!0;e=Rt(e)}return!1}(e))return function(e){var t,r,n,o,i,a,u=[],s=[];for(i=new e.constructor(e.message),u.push(e),s.push(i),e.stack&&(i.stack=e.stack),e.code&&(i.code=e.code),e.errno&&(i.errno=e.errno),e.syscall&&(i.syscall=e.syscall),t=At(e),a=0;a<t.length;a++)o=t[a],re(r=mr(e,o),"value")&&(n=Ee(e[o])?[]:{},r.value=En(e[o],n,u,s,-1)),B(i,o,r);return i}(e);if("date"===(u=Te(e)))return new Date(+e);if("regexp"===u)return function(e){if(!$e(e))throw new TypeError(P("invalid argument. Must provide a regular expression string. Value: `%s`.",e));return(e=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(e))?new RegExp(e[1],e[2]):null}(e.toString());if("set"===u)return new Set(e);if("map"===u)return new Map(e);if("string"===u||"boolean"===u||"number"===u)return e.valueOf();if(c=jn[u])return c(e);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(e){var t,r,n,o,i,a,u,s;for(t=[],o=[],u=Object.create(Rt(e)),t.push(e),o.push(u),r=lr(e),s=0;s<r.length;s++)n=r[s],re(i=mr(e,n),"value")&&(a=Ee(e[n])?[]:{},i.value=En(e[n],a,t,o,-1)),B(u,n,i);return Object.isExtensible(e)||Object.preventExtensions(u),Object.isSealed(e)&&Object.seal(u),Object.isFrozen(e)&&Object.freeze(u),u}(e):{};if(a=At(e),o>0)for(i=u,m=0;m<a.length;m++)p=e[f=a[m]],u=Te(p),"object"!=typeof p||null===p||"array"!==u&&"object"!==u||ke(p)?"object"===i?(re(s=mr(e,f),"value")&&(s.value=En(p)),B(t,f,s)):t[f]=En(p):-1===(h=gt(r,p))?(l=Ee(p)?new Array(p.length):{},r.push(p),n.push(l),"array"===i?t[f]=En(p,l,r,n,o):(re(s=mr(e,f),"value")&&(s.value=En(p,l,r,n,o)),B(t,f,s))):t[f]=n[h];else if("array"===u)for(m=0;m<a.length;m++)t[f=a[m]]=e[f];else for(m=0;m<a.length;m++)f=a[m],s=mr(e,f),B(t,f,s);return Object.isExtensible(e)||Object.preventExtensions(t),Object.isSealed(e)&&Object.seal(t),Object.isFrozen(e)&&Object.freeze(t),t}function _n(e,t){var r;if(arguments.length>1){if(!nr(t))throw new TypeError(P("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(0===t)return e}else t=Je;return En(e,r=Ee(e)?new Array(e.length):{},[e],[r],t)}var On=t;function kn(){return On.hrtime()}var An=4294967295;function Tn(e){if("function"!=typeof e)throw new TypeError(P("invalid argument. Must provide a function. Value: `%s`.",e));return function(t){var r,n;if(!function(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length&&et(e.length)&&e.length>=0&&e.length<=An}(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}var Sn=Tn(ir.isPrimitive),xn=Tn(ir.isObject),In=Tn(ir);W(In,"primitives",Sn),W(In,"objects",xn);var Vn=setTimeout,Fn=clearTimeout;var Pn=void 0!==String.prototype.trim,Mn=String.prototype.trim;function Un(e,t,r){return e.replace(t,r)}var $n=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;var Cn=Pn&&""===Mn.call(" \n\t\r\n\f\v            \u2028\u2029  　\ufeff")&&"᠎"===Mn.call("᠎")?function(e){return Mn.call(e)}:function(e){return Un(e,$n,"$1")};var Rn="\\r?\\n";function Nn(e){var t,r;if(arguments.length>0){if(r=function(e,t){return qt(t)?re(t,"flags")&&(e.flags=t.flags,!$e(e.flags))?new TypeError(P("invalid option. `%s` option must be a string. Option: `%s`.","flags",e.flags)):re(t,"capture")&&(e.capture=t.capture,!J(e.capture))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","capture",e.capture)):null:new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",t))}(t={},e),r)throw r;return t.capture?new RegExp("(\\r?\\n)",t.flags):new RegExp(Rn,t.flags)}return/\r?\n/}var qn=Nn({capture:!0}),Bn=Nn();W(Nn,"REGEXP",Bn),W(Nn,"REGEXP_CAPTURE",qn);var Wn=/^#\s*/;function Ln(e){setTimeout(e,0)}var Gn=n.EventEmitter;function Hn(e,t,r){var n,o,i,a;return this instanceof Hn?(i=this,n=!1,o=!1,Gn.call(this),W(this,"_benchmark",r),W(this,"_skip",t.skip),B(this,"_ended",{configurable:!1,enumerable:!1,writable:!0,value:!1}),B(this,"_running",{configurable:!1,enumerable:!1,writable:!0,value:!1}),B(this,"_exited",{configurable:!1,enumerable:!1,writable:!0,value:!1}),B(this,"_count",{configurable:!1,enumerable:!1,writable:!0,value:0}),W(this,"name",e),W(this,"tic",(function(){n?i.fail(".tic() called more than once"):(i.emit("tic"),n=!0,a=kn())})),W(this,"toc",(function(){var e,t,r,u;if(!1===n)return i.fail(".toc() called before .tic()");if(e=function(e){var t,r,n=kn();if(!Sn(e))throw new TypeError(P("invalid argument. Must provide an array of nonnegative integers. Value: `%s`.",e));if(2!==e.length)throw new RangeError(P("invalid argument. Input array must contain two elements. Value: `%s`.",e));return t=n[0]-e[0],r=n[1]-e[1],t>0&&r<0?(t-=1,r+=1e9):t<0&&r>0&&(t+=1,r-=1e9),[t,r]}(a),o)return i.fail(".toc() called more than once");o=!0,i.emit("toc"),t=e[0]+e[1]/1e9,r=i.iterations/t,u={ok:!0,operator:"result",iterations:i.iterations,elapsed:t,rate:r},i.emit("result",u)})),W(this,"iterations",t.iterations),W(this,"timeout",t.timeout),this):new Hn(e,t,r)}Z(Hn,Gn),W(Hn.prototype,"run",(function(){var e,t;if(this._skip)return this.comment("SKIP "+this.name),this.end();if(!this._benchmark)return this.comment("TODO "+this.name),this.end();e=this,this._running=!0,t=Vn((function(){e.fail("benchmark timed out after "+e.timeout+"ms")}),this.timeout),this.once("end",(function(){Fn(t)})),this.emit("prerun"),this._benchmark(this),this.emit("run")})),W(Hn.prototype,"exit",(function(){this._exited||this._ended||(this._exited=!0,this.fail("benchmark exited without ending"),this._running||this.end())})),W(Hn.prototype,"ended",(function(){return this._ended})),W(Hn.prototype,"_assert",(function(e,t){var r;r={id:this._count,ok:e,skip:t.skip,todo:t.todo,name:t.message||"(unnamed assert)",operator:t.operator},re(t,"actual")&&(r.actual=t.actual),re(t,"expected")&&(r.expected=t.expected),e||(r.error=t.error||new Error(this.name)),this._count+=1,this.emit("result",r)})),W(Hn.prototype,"comment",(function(e){var t,r;for(t=(e=Cn(e)).split(Bn),r=0;r<t.length;r++)e=Un(e=Cn(t[r]),Wn,""),this.emit("result",e)})),W(Hn.prototype,"skip",(function(e,t){this._assert(!0,{message:t,operator:"skip",skip:!0})})),W(Hn.prototype,"todo",(function(e,t){this._assert(!!e,{message:t,operator:"todo",todo:!0})})),W(Hn.prototype,"fail",(function(e){this._assert(!1,{message:e,operator:"fail"})})),W(Hn.prototype,"pass",(function(e){this._assert(!0,{message:e,operator:"pass"})})),W(Hn.prototype,"ok",(function(e,t){this._assert(!!e,{message:t||"should be truthy",operator:"ok",expected:!0,actual:e})})),W(Hn.prototype,"notOk",(function(e,t){this._assert(!e,{message:t||"should be falsy",operator:"notOk",expected:!1,actual:e})})),W(Hn.prototype,"equal",(function(e,t,r){this._assert(e===t,{message:r||"should be equal",operator:"equal",expected:t,actual:e})})),W(Hn.prototype,"notEqual",(function(e,t,r){this._assert(e!==t,{message:r||"should not be equal",operator:"notEqual",expected:t,actual:e})})),W(Hn.prototype,"deepEqual",(function(e,t,r){this.comment("actual: "+e+". expected: "+t+". msg: "+r+".")})),W(Hn.prototype,"notDeepEqual",(function(e,t,r){this.comment("actual: "+e+". expected: "+t+". msg: "+r+".")})),W(Hn.prototype,"end",(function(){var e=this;this._ended?this.fail(".end() called more than once"):Ln((function(){e.emit("end")})),this._ended=!0,this._running=!1}));var Dn=/\s+/g;var Xn="  ",zn=Xn+"---\n",Zn=Xn+"...\n";var Yn=n.EventEmitter;function Jn(){return this instanceof Jn?(Yn.call(this),B(this,"_benchmarks",{value:[],configurable:!1,writable:!1,enumerable:!1}),B(this,"_stream",{value:new Qt,configurable:!1,writable:!1,enumerable:!1}),B(this,"_closed",{value:!1,configurable:!1,writable:!0,enumerable:!1}),B(this,"_running",{value:!1,configurable:!1,writable:!0,enumerable:!1}),B(this,"total",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"fail",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"pass",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"skip",{value:0,configurable:!1,writable:!0,enumerable:!0}),B(this,"todo",{value:0,configurable:!1,writable:!0,enumerable:!0}),this):new Jn}Z(Jn,Yn),B(Jn.prototype,"push",{value:function(e){var t=this;this._benchmarks.push(e),e.once("prerun",(function(){t._stream.write("# "+e.name+"\n")})),e.on("result",(function(e){if($e(e))return t._stream.write("# "+e+"\n");if("result"===e.operator)return n=zn,n+=Xn+"iterations: "+(r=e).iterations+"\n",n+=Xn+"elapsed: "+r.elapsed+"\n",e=(n+=Xn+"rate: "+r.rate+"\n")+Zn,t._stream.write(e);var r,n;t.total+=1,e.ok?(e.skip?t.skip+=1:e.todo&&(t.todo+=1),t.pass+=1):e.todo?(t.pass+=1,t.todo+=1):t.fail+=1;e=function(e,t){var r,n,o,i,a,u,s,c;if(s="",e.ok||(s+="not "),s+="ok "+t,e.name&&(s+=" "+Un(e.name.toString(),Dn," ")),e.skip?s+=" # SKIP":e.todo&&(s+=" # TODO"),s+="\n",e.ok)return s;if(s+="  ---\n",s+="  operator: "+e.operator+"\n",(re(e,"actual")||re(e,"expected"))&&(o=e.expected,(i=e.actual)!=i&&o!=o))throw new Error("unexpected error.");if(e.at&&(s+="  at: "+e.at+"\n"),e.actual&&(r=e.actual.stack),e.error&&(n=e.error.stack),a=r||n)for(u=a.toString().split(Bn),s+="  stack: |-\n",c=0;c<u.length;c++)s+="    "+u[c]+"\n";return s+"  ...\n"}(e,t.total),t._stream.write(e)})),this.emit("_push",e)},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"createStream",{value:function(e){var t,r,n,o;return n=this,t=new Qt(r=arguments.length?e:{}),r.objectMode?(o=0,this.on("_push",(function(e){var r=o;function n(){var n={type:"benchmark",name:e.name,id:r};t.write(n)}function i(e){$e(e)?e={benchmark:r,type:"comment",name:e}:"result"===e.operator?(e.benchmark=r,e.type="result"):(e.benchmark=r,e.type="assert"),t.write(e)}function a(){t.write({benchmark:r,type:"end"})}o+=1,e.once("prerun",n),e.on("result",i),e.on("end",a)})),this.on("done",(function(){t.destroy()}))):(t.write("TAP version 13\n"),this._stream.pipe(t)),this.on("_run",(function(){if(!n._running)return n._running=!0,i()})),t;function i(){Ln(a)}function a(){var e=n._benchmarks.shift();if(e)return e.run(),e.ended()?i():e.once("end",i);n._running=!1,n.emit("done")}},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"run",{value:function(){this.emit("_run")},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"clear",{value:function(){this._benchmarks.length=0},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"close",{value:function(){var e=this;this._closed||(this._closed=!0,this._benchmarks.length?(this.clear(),this._stream.write("# WARNING: harness closed before completion.\n")):(this._stream.write("#\n"),this._stream.write("1.."+this.total+"\n"),this._stream.write("# total "+this.total+"\n"),this._stream.write("# pass  "+this.pass+"\n"),this.fail&&this._stream.write("# fail  "+this.fail+"\n"),this.skip&&this._stream.write("# skip  "+this.skip+"\n"),this.todo&&this._stream.write("# todo  "+this.todo+"\n"),this.fail||this._stream.write("#\n# ok\n")),this._stream.once("close",(function(){e.emit("close")})),this._stream.destroy())},configurable:!1,writable:!1,enumerable:!1}),B(Jn.prototype,"exit",{value:function(){var e,t;for(t=0;t<this._benchmarks.length;t++)this._benchmarks[t].exit();e=this,this.clear(),this._stream.once("close",(function(){e.emit("close")})),this._stream.destroy()},configurable:!1,writable:!1,enumerable:!1});var Kn={skip:!1,iterations:null,repeats:3,timeout:3e5};function Qn(e){return rt(e)&&e>0}function eo(e){return nt(e)&&e.valueOf()>0}function to(e){return Qn(e)||eo(e)}function ro(e,t){return qt(t)?re(t,"skip")&&(e.skip=t.skip,!J(e.skip))?new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","skip",e.skip)):re(t,"iterations")&&(e.iterations=t.iterations,!Qn(e.iterations)&&null!==e.iterations)?new TypeError(P("invalid option. `%s` option must be either a positive integer or null. Option: `%s`.","iterations",e.iterations)):re(t,"repeats")&&(e.repeats=t.repeats,!Qn(e.repeats))?new TypeError(P("invalid option. `%s` option must be a positive integer. Option: `%s`.","repeats",e.repeats)):re(t,"timeout")&&(e.timeout=t.timeout,!Qn(e.timeout))?new TypeError(P("invalid option. `%s` option must be a positive integer. Option: `%s`.","timeout",e.timeout)):null:new TypeError(P("invalid argument. Options argument must be an object. Value: `%s`.",t))}W(to,"isPrimitive",Qn),W(to,"isObject",eo);var no=.1,oo=10,io=1e10;function ao(e,t,r,n){if(!r)return t.repeats=1,n(e,t,r);if(t.skip)return t.repeats=1,n(e,t,r);function o(o,i){return o?(t.repeats=1,t.iterations=1,n(e,t,r)):(t.iterations=i,n(e,t,r))}!function(e,t,r,n){var o,i,a,u,s;a=0,u=0,(i=_n(t)).iterations=1,(s=new Hn(e,i,r)).on("result",(function(e){$e(e)||e.ok||e.todo||(o=!0)})),s.on("tic",(function(){a+=1})),s.on("toc",(function(){u+=1})),s.once("end",(function(){var e;return o?e=new Error("unexpected error. Benchmark failed."):1===a&&1===u||(e=new Error("unexpected error. Invalid benchmark.")),e?n(e):n()})),s.run()}(e,t,r,(function(i){if(i)return t.repeats=1,t.iterations=1,n(e,t,r);if(t.iterations)return n(e,t,r);!function(e,t,r,n){var o,i;return i=0,(o=_n(t)).iterations=oo,a();function a(){var t=new Hn(e,o,r);t.on("result",u),t.once("end",s),t.run()}function u(e){$e(e)||"result"!==e.operator||(i=e.elapsed)}function s(){if(i<no&&o.iterations<io)return o.iterations*=10,a();n(null,o.iterations)}}(e,t,r,o)}))}function uo(e,t){var r,n,o,i,a;if(i={},1===arguments.length)if(Se(e))a=e;else{if(!qt(e))throw new TypeError(P("invalid argument. Must provide either an options object or a function. Value: `%s`.",e));i=e}else if(arguments.length>1){if(!qt(e))throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",e));if(re(e,"autoclose")&&(i.autoclose=e.autoclose,!J(i.autoclose)))throw new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","autoclose",i.autoclose));if(!Se(a=t))throw new TypeError(P("invalid argument. Second argument must be a function. Value: `%s`.",a))}function u(e,t,r){var n,i,a;if(!$e(e))throw new TypeError(P("invalid argument. First argument must be a string. Value: `%s`.",e));if(n=_n(Kn),2===arguments.length){if(Se(t))a=t;else if(i=ro(n,t))throw i}else if(arguments.length>2){if(i=ro(n,t))throw i;if(!Se(a=r))throw new TypeError(P("invalid argument. Third argument must be a function. Value: `%s`.",a))}return o.push([e,n,a]),1===o.length&&Ln(s),u}function s(){var e=-1;return t();function t(){var t;if((e+=1)===o.length)return o.length=0,n.run();ao((t=o[e])[0],t[1],t[2],r)}function r(e,r,o){var i,a;for(a=0;a<r.repeats;a++)(i=new Hn(e,r,o)).on("result",c),n.push(i);return t()}}function c(e){$e(e)||e.ok||e.todo||(r=1)}function f(){n.close()}return n=new Jn,i.autoclose&&n.once("done",f),a&&n.once("done",a),r=0,o=[],W(u,"createStream",(function(e){return arguments.length?n.createStream(e):n.createStream()})),W(u,"close",f),W(u,"exit",(function(){n.exit()})),function(e,t,r){B(e,t,{configurable:!1,enumerable:!1,get:r})}(u,"exitCode",(function(){return r})),u}var so=Object.prototype.toString;var co=new Function("try {return this === global;} catch ( err ) {return false;}")(),fo=t,lo=ye(),po=/node|io\.js/;var ho,mo="object"==typeof global&&global===lo&&lo===lo.global&&("[object global]"===ie(lo)||"[object Object]"===ie(lo))&&!0===co&&"object"==typeof fo&&"[object process]"===(ho=fo,so.call(ho))&&qt(fo.versions)&&$e(fo.versions.node)&&(void 0===fo.release||qt(fo.release)&&$e(fo.release.name)&&po.test(fo.release.name));var yo=new Function("try {return this === window;} catch ( err ) {return false;}")(),go=ye();var vo=!1===mo&&"object"==typeof window&&window===go&&!0===yo,bo=t,wo=bo&&"function"==typeof bo.exit,jo=!vo&&wo;var Eo=_e(qe.isPrimitive),_o=_e(qe.isObject),Oo=_e(qe);W(Oo,"primitives",Eo),W(Oo,"objects",_o);var ko,Ao=1114111,To=65535,So=String.fromCharCode,xo=65536,Io=55296,Vo=56320,Fo=1023;function Po(e){var t,r,n,o,i;if(1===(t=arguments.length)&&dt(e))t=(n=arguments[0]).length;else for(n=[],i=0;i<t;i++)n.push(arguments[i]);if(0===t)throw new Error("insufficient arguments. Must provide either an array of code points or one or more code points as separate arguments.");for(r="",i=0;i<t;i++){if(!nr(o=n[i]))throw new TypeError(P("invalid argument. Must provide valid code points (i.e., nonnegative integers). Value: `%s`.",o));if(o>Ao)throw new RangeError(P("invalid argument. Must provide a valid code point (i.e., cannot exceed %u). Value: `%s`.",Ao,o));r+=o<=To?So(o):So(((o-=xo)>>10)+Io,(o&Fo)+Vo)}return r}function Mo(){var e,t;return e=new Qt({transform:function(e,n,o){var i,a;for(a=0;a<e.length;a++)"\n"===(i=Po(e[a]))?r():t+=i;o()},flush:r}),t="",e;function r(r){try{n=t,console.log(n)}catch(t){e.emit("error",t)}var n;if(t="",r)return r()}}function Uo(){var e,t,r,n,o,i,a;if(0===arguments.length)n={},a=pt;else if(1===arguments.length)if(Se(arguments[0]))n={},a=arguments[0];else{if(!qt(arguments[0]))throw new TypeError(P("invalid argument. Must provide either an options object or a function. Value: `%s`.",arguments[0]));n=arguments[0],a=pt}else{if(!qt(n=arguments[0]))throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",n));if(!Se(a=arguments[1]))throw new TypeError(P("invalid argument. Second argument must be a function. Value: `%s`.",a))}if(i={},re(n,"autoclose")&&(i.autoclose=n.autoclose,!J(i.autoclose)))throw new TypeError(P("invalid option. `%s` option must be a boolean. Option: `%s`.","autoclose",i.autoclose));if(re(n,"stream")&&(i.stream=n.stream,!function(e){return function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.on&&"function"==typeof e.once&&"function"==typeof e.emit&&"function"==typeof e.addListener&&"function"==typeof e.removeListener&&"function"==typeof e.removeAllListeners&&"function"==typeof e.pipe}(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}(i.stream)))throw new TypeError(P("invalid option. `%s` option must be a writable stream. Option: `%s`.","stream",i.stream));return e=0,o=function(e,t){var r,n,o;if("object"!=typeof e||null===e)throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",e));if(r={},$e(t))return re(e,t)&&(r[t]=e[t]),r;if(Eo(t)){for(o=0;o<t.length;o++)re(e,n=t[o])&&(r[n]=e[n]);return r}throw new TypeError(P("invalid argument. Second argument must be either a string or an array of strings. Value: `%s`.",t))}(i,["autoclose"]),r=uo(o,(function(){return a()})),o=function(e,t){var r,n,o,i;if("object"!=typeof e||null===e)throw new TypeError(P("invalid argument. First argument must be an object. Value: `%s`.",e));if(r=At(e),n={},$e(t)){for(i=0;i<r.length;i++)(o=r[i])!==t&&(n[o]=e[o]);return n}if(Eo(t)){for(i=0;i<r.length;i++)-1===gt(t,o=r[i])&&(n[o]=e[o]);return n}throw new TypeError(P("invalid argument. Second argument must be either a string or an array of strings. Value: `%s`.",t))}(n,["autoclose","stream"]),t=r.createStream(o).pipe(i.stream||Mo()),jo&&(t.on("error",(function(){e=1})),bo.on("exit",(function(t){if(0!==t)return;r.close(),bo.exit(e||r.exitCode)}))),r}function $o(e,t){var r,n;return ko||(arguments.length>1?(r=e,n=t):(r={},n=e),r.autoclose=!jo,ko=Uo(r,n),$o.cached=!0,ko)}var Co=[];function Ro(){var e,t;for(e=Co.length,t=0;t<e;t++)Co.shift()()}function No(e,t,r){var n=$o(Ro);return arguments.length<2?n(e):2===arguments.length?n(e,t):n(e,t,r),No}return W(No,"createHarness",uo),W(No,"createStream",(function(e){var t,r;return r=arguments.length?e:{},$o.cached?$o().createStream(r):(t=new Qt(r),r.stream=t,$o(r,Ro),t)})),W(No,"onFinish",(function(e){var t;if(!Se(e))throw new TypeError(P("invalid argument. Must provide a function. Value: `%s`.",e));for(t=0;t<Co.length;t++)if(e===Co[t])throw new Error("invalid argument. Attempted to add duplicate listener.");Co.push(e)})),No}));
//# sourceMappingURL=index.js.map
