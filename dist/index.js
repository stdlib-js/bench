"use strict";var n=function(e,r){return function(){return r||e((r={exports:{}}).exports,r),r.exports}};var K=n(function(ta,Y){"use strict";Y.exports=setTimeout});var U=n(function(ia,z){"use strict";z.exports=clearTimeout});var Q=n(function(aa,J){"use strict";var Cr=K(),Dr=U();function Vr(){var e,r;if(this._skip)return this.comment("SKIP "+this.name),this.end();if(!this._benchmark)return this.comment("TODO "+this.name),this.end();e=this,this._running=!0,r=Cr(t,this.timeout),this.once("end",i),this.emit("prerun"),this._benchmark(this),this.emit("run");function t(){e.fail("benchmark timed out after "+e.timeout+"ms")}function i(){Dr(r)}}J.exports=Vr});var $=n(function(na,Z){"use strict";function jr(){this._exited||this._ended||(this._exited=!0,this.fail("benchmark exited without ending"),this._running||this.end())}Z.exports=jr});var re=n(function(sa,ee){"use strict";function Fr(){return this._ended}ee.exports=Fr});var ae=n(function(oa,ie){"use strict";var te=require("@stdlib/assert/has-own-property");function Hr(e,r){var t,i;t={id:this._count,ok:e,skip:r.skip,todo:r.todo,name:r.message||"(unnamed assert)",operator:r.operator},te(r,"actual")&&(t.actual=r.actual),te(r,"expected")&&(t.expected=r.expected),e||(t.error=r.error||new Error(this.name),i=new Error("not implemented")),this._count+=1,this.emit("result",t)}ie.exports=Hr});var oe=n(function(ua,se){"use strict";var ne=require("@stdlib/string/base/trim"),Lr=require("@stdlib/string/base/replace"),Gr=require("@stdlib/regexp/eol").REGEXP,Wr=/^#\s*/;function Xr(e){var r,t;for(e=ne(e),r=e.split(Gr),t=0;t<r.length;t++)e=ne(r[t]),e=Lr(e,Wr,""),this.emit("result",e)}se.exports=Xr});var le=n(function(la,ue){"use strict";function Yr(e,r){this._assert(!0,{message:r,operator:"skip",skip:!0})}ue.exports=Yr});var fe=n(function(ca,ce){"use strict";function Kr(e,r){this._assert(!!e,{message:r,operator:"todo",todo:!0})}ce.exports=Kr});var me=n(function(fa,ve){"use strict";function zr(e){this._assert(!1,{message:e,operator:"fail"})}ve.exports=zr});var he=n(function(va,pe){"use strict";function Ur(e){this._assert(!0,{message:e,operator:"pass"})}pe.exports=Ur});var qe=n(function(ma,de){"use strict";function Jr(e,r){this._assert(!!e,{message:r||"should be truthy",operator:"ok",expected:!0,actual:e})}de.exports=Jr});var be=n(function(pa,ge){"use strict";function Qr(e,r){this._assert(!e,{message:r||"should be falsy",operator:"notOk",expected:!1,actual:e})}ge.exports=Qr});var xe=n(function(ha,we){"use strict";function Zr(e,r,t){this._assert(e===r,{message:t||"should be equal",operator:"equal",expected:r,actual:e})}we.exports=Zr});var _e=n(function(da,Ee){"use strict";function $r(e,r,t){this._assert(e!==r,{message:t||"should not be equal",operator:"notEqual",expected:r,actual:e})}Ee.exports=$r});var ye=n(function(qa,ke){"use strict";function et(e,r,t){this.comment("actual: "+e+". expected: "+r+". msg: "+t+".")}ke.exports=et});var Se=n(function(ga,Te){"use strict";function rt(e,r,t){this.comment("actual: "+e+". expected: "+r+". msg: "+t+".")}Te.exports=rt});var R=n(function(ba,Oe){"use strict";function tt(e){setTimeout(e,0)}Oe.exports=tt});var Re=n(function(wa,Pe){"use strict";var it=R();function at(){var e=this;this._ended?this.fail(".end() called more than once"):it(r),this._ended=!0,this._running=!1;function r(){e.emit("end")}}Pe.exports=at});var A=n(function(xa,Ae){"use strict";var Ie=require("events").EventEmitter,nt=require("@stdlib/utils/inherit"),I=require("@stdlib/utils/define-property"),v=require("@stdlib/utils/define-nonenumerable-read-only-property"),st=require("@stdlib/time/tic"),ot=require("@stdlib/time/toc"),ut=Q(),lt=$(),ct=re(),ft=ae(),vt=oe(),mt=le(),pt=fe(),ht=me(),dt=he(),qt=qe(),gt=be(),bt=xe(),wt=_e(),xt=ye(),Et=Se(),_t=Re();function m(e,r,t){var i,a,s,o;if(!(this instanceof m))return new m(e,r,t);return s=this,i=!1,a=!1,Ie.call(this),v(this,"_benchmark",t),v(this,"_skip",r.skip),I(this,"_ended",{configurable:!1,enumerable:!1,writable:!0,value:!1}),I(this,"_running",{configurable:!1,enumerable:!1,writable:!0,value:!1}),I(this,"_exited",{configurable:!1,enumerable:!1,writable:!0,value:!1}),I(this,"_count",{configurable:!1,enumerable:!1,writable:!0,value:0}),v(this,"name",e),v(this,"tic",u),v(this,"toc",c),v(this,"iterations",r.iterations),v(this,"timeout",r.timeout),this;function u(){i?s.fail(".tic() called more than once"):(s.emit("tic"),i=!0,o=st())}function c(){var l,f,h,E;if(i===!1)return s.fail(".toc() called before .tic()");if(l=ot(o),a)return s.fail(".toc() called more than once");a=!0,s.emit("toc"),f=l[0]+l[1]/1e9,h=s.iterations/f,E={ok:!0,operator:"result",iterations:s.iterations,elapsed:f,rate:h},s.emit("result",E)}}nt(m,Ie);v(m.prototype,"run",ut);v(m.prototype,"exit",lt);v(m.prototype,"ended",ct);v(m.prototype,"_assert",ft);v(m.prototype,"comment",vt);v(m.prototype,"skip",mt);v(m.prototype,"todo",pt);v(m.prototype,"fail",ht);v(m.prototype,"pass",dt);v(m.prototype,"ok",qt);v(m.prototype,"notOk",gt);v(m.prototype,"equal",bt);v(m.prototype,"notEqual",wt);v(m.prototype,"deepEqual",xt);v(m.prototype,"notDeepEqual",Et);v(m.prototype,"end",_t);Ae.exports=m});var Be=n(function(Ea,Ne){"use strict";var kt=require("@stdlib/string/base/replace"),Me=require("@stdlib/assert/has-own-property"),yt=require("@stdlib/regexp/eol").REGEXP,Tt=/\s+/g;function St(e,r){var t,i,a,s,o,u,c,l,f;if(l="",e.ok||(l+="not "),l+="ok "+r,e.name&&(l+=" "+kt(e.name.toString(),Tt," ")),e.skip?l+=" # SKIP":e.todo&&(l+=" # TODO"),l+="\n",e.ok)return l;if(o="  ",l+=o+"---\n",l+=o+"operator: "+e.operator+"\n",(Me(e,"actual")||Me(e,"expected"))&&(a=e.expected,s=e.actual,s!==s&&a!==a))throw new Error("unexpected error.");if(e.at&&(l+=o+"at: "+e.at+"\n"),e.actual&&(t=e.actual.stack),e.error&&(i=e.error.stack),t?u=t:u=i,u)for(c=u.toString().split(yt),l+=o+"stack: |-\n",f=0;f<c.length;f++)l+=o+"  "+c[f]+"\n";return l+=o+"...\n",l}Ne.exports=St});var De=n(function(_a,Ce){"use strict";var y="  ",Ot=y+"---\n",Pt=y+"...\n";function Rt(e){var r=Ot;return r+=y+"iterations: "+e.iterations+"\n",r+=y+"elapsed: "+e.elapsed+"\n",r+=y+"rate: "+e.rate+"\n",r+=Pt,r}Ce.exports=Rt});var je=n(function(ka,Ve){"use strict";var It=require("@stdlib/assert/is-string").isPrimitive,At=Be(),Mt=De();function Nt(e){var r=this;this._benchmarks.push(e),e.once("prerun",t),e.on("result",i),this.emit("_push",e);function t(){r._stream.write("# "+e.name+"\n")}function i(a){if(It(a))return r._stream.write("# "+a+"\n");if(a.operator==="result")return a=Mt(a),r._stream.write(a);r.total+=1,a.ok?(a.skip?r.skip+=1:a.todo&&(r.todo+=1),r.pass+=1):a.todo?(r.pass+=1,r.todo+=1):r.fail+=1,a=At(a,r.total),r._stream.write(a)}}Ve.exports=Nt});var He=n(function(ya,Fe){"use strict";var Bt=require("@stdlib/streams/node/transform"),Ct=require("@stdlib/assert/is-string").isPrimitive,Dt=R(),Vt="TAP version 13";function jt(e){var r,t,i,a;return i=this,arguments.length?t=e:t={},r=new Bt(t),t.objectMode?(a=0,this.on("_push",c),this.on("done",l)):(r.write(Vt+"\n"),this._stream.pipe(r)),this.on("_run",u),r;function s(){Dt(o)}function o(){var f=i._benchmarks.shift();if(f)return f.run(),f.ended()?s():f.once("end",s);i._running=!1,i.emit("done")}function u(){if(!i._running)return i._running=!0,s()}function c(f){var h=a;a+=1,f.once("prerun",E),f.on("result",g),f.on("end",d);function E(){var p={type:"benchmark",name:f.name,id:h};r.write(p)}function g(p){Ct(p)?p={benchmark:h,type:"comment",name:p}:p.operator==="result"?(p.benchmark=h,p.type="result"):(p.benchmark=h,p.type="assert"),r.write(p)}function d(){r.write({benchmark:h,type:"end"})}}function l(){r.destroy()}}Fe.exports=jt});var Ge=n(function(Ta,Le){"use strict";function Ft(){this.emit("_run")}Le.exports=Ft});var Xe=n(function(Sa,We){"use strict";function Ht(){this._benchmarks.length=0}We.exports=Ht});var Ke=n(function(Oa,Ye){"use strict";function Lt(){var e=this;if(this._closed)return;this._closed=!0,this._benchmarks.length?(this.clear(),this._stream.write("# WARNING: harness closed before completion.\n")):(this._stream.write("#\n"),this._stream.write("1.."+this.total+"\n"),this._stream.write("# total "+this.total+"\n"),this._stream.write("# pass  "+this.pass+"\n"),this.fail&&this._stream.write("# fail  "+this.fail+"\n"),this.skip&&this._stream.write("# skip  "+this.skip+"\n"),this.todo&&this._stream.write("# todo  "+this.todo+"\n"),this.fail||this._stream.write("#\n# ok\n")),this._stream.once("close",r),this._stream.destroy();function r(){e.emit("close")}}Ye.exports=Lt});var Ue=n(function(Pa,ze){"use strict";function Gt(){var e,r;for(r=0;r<this._benchmarks.length;r++)this._benchmarks[r].exit();e=this,this.clear(),this._stream.once("close",t),this._stream.destroy();function t(){e.emit("close")}}ze.exports=Gt});var Ze=n(function(Ra,Qe){"use strict";var Je=require("events").EventEmitter,Wt=require("@stdlib/utils/inherit"),q=require("@stdlib/utils/define-property"),Xt=require("@stdlib/streams/node/transform"),Yt=je(),Kt=He(),zt=Ge(),Ut=Xe(),Jt=Ke(),Qt=Ue();function w(){return this instanceof w?(Je.call(this),q(this,"_benchmarks",{value:[],configurable:!1,writable:!1,enumerable:!1}),q(this,"_stream",{value:new Xt,configurable:!1,writable:!1,enumerable:!1}),q(this,"_closed",{value:!1,configurable:!1,writable:!0,enumerable:!1}),q(this,"_running",{value:!1,configurable:!1,writable:!0,enumerable:!1}),q(this,"total",{value:0,configurable:!1,writable:!0,enumerable:!0}),q(this,"fail",{value:0,configurable:!1,writable:!0,enumerable:!0}),q(this,"pass",{value:0,configurable:!1,writable:!0,enumerable:!0}),q(this,"skip",{value:0,configurable:!1,writable:!0,enumerable:!0}),q(this,"todo",{value:0,configurable:!1,writable:!0,enumerable:!0}),this):new w}Wt(w,Je);q(w.prototype,"push",{value:Yt,configurable:!1,writable:!1,enumerable:!1});q(w.prototype,"createStream",{value:Kt,configurable:!1,writable:!1,enumerable:!1});q(w.prototype,"run",{value:zt,configurable:!1,writable:!1,enumerable:!1});q(w.prototype,"clear",{value:Ut,configurable:!1,writable:!1,enumerable:!1});q(w.prototype,"close",{value:Jt,configurable:!1,writable:!1,enumerable:!1});q(w.prototype,"exit",{value:Qt,configurable:!1,writable:!1,enumerable:!1});Qe.exports=w});var $e=n(function(Ia,Zt){Zt.exports={skip:!1,iterations:null,repeats:3,timeout:3e5}});var rr=n(function(Aa,er){"use strict";var $t=require("@stdlib/assert/is-plain-object"),M=require("@stdlib/assert/has-own-property"),ei=require("@stdlib/assert/is-boolean").isPrimitive,ri=require("@stdlib/assert/is-null"),F=require("@stdlib/assert/is-positive-integer").isPrimitive,T=require("@stdlib/string/format");function ti(e,r){return $t(r)?M(r,"skip")&&(e.skip=r.skip,!ei(e.skip))?new TypeError(T("invalid option. `%s` option must be a boolean. Option: `%s`.","skip",e.skip)):M(r,"iterations")&&(e.iterations=r.iterations,!F(e.iterations)&&!ri(e.iterations))?new TypeError(T("invalid option. `%s` option must be either a positive integer or null. Option: `%s`.","iterations",e.iterations)):M(r,"repeats")&&(e.repeats=r.repeats,!F(e.repeats))?new TypeError(T("invalid option. `%s` option must be a positive integer. Option: `%s`.","repeats",e.repeats)):M(r,"timeout")&&(e.timeout=r.timeout,!F(e.timeout))?new TypeError(T("invalid option. `%s` option must be a positive integer. Option: `%s`.","timeout",e.timeout)):null:new TypeError(T("invalid argument. Options argument must be an object. Value: `%s`.",r))}er.exports=ti});var ir=n(function(Ma,tr){"use strict";var ii=require("@stdlib/assert/is-string").isPrimitive,ai=require("@stdlib/utils/copy"),ni=A();function si(e,r,t,i){var a,s,o,u,c;o=0,u=0,s=ai(r),s.iterations=1,c=new ni(e,s,t),c.on("result",l),c.on("tic",f),c.on("toc",h),c.once("end",E),c.run();function l(g){!ii(g)&&!g.ok&&!g.todo&&(a=!0)}function f(){o+=1}function h(){u+=1}function E(){var g;return a?g=new Error("unexpected error. Benchmark failed."):(o!==1||u!==1)&&(g=new Error("unexpected error. Invalid benchmark.")),g?i(g):i()}}tr.exports=si});var nr=n(function(Na,ar){"use strict";var oi=require("@stdlib/assert/is-string").isPrimitive,ui=require("@stdlib/utils/copy"),li=A(),ci=.1,fi=10,vi=1e10;function mi(e,r,t,i){var a,s;return s=0,a=ui(r),a.iterations=fi,o();function o(){var l=new li(e,a,t);l.on("result",u),l.once("end",c),l.run()}function u(l){!oi(l)&&l.operator==="result"&&(s=l.elapsed)}function c(){if(s<ci&&a.iterations<vi)return a.iterations*=10,o();i(null,a.iterations)}}ar.exports=mi});var or=n(function(Ba,sr){"use strict";var pi=ir(),hi=nr();function di(e,r,t,i){if(!t||r.skip)return r.repeats=1,i(e,r,t);pi(e,r,t,a);function a(o){if(o)return r.repeats=1,r.iterations=1,i(e,r,t);if(r.iterations)return i(e,r,t);hi(e,r,t,s)}function s(o,u){return o?(r.repeats=1,r.iterations=1,i(e,r,t)):(r.iterations=u,i(e,r,t))}}sr.exports=di});var L=n(function(Ca,fr){"use strict";var H=require("@stdlib/utils/define-nonenumerable-read-only-property"),qi=require("@stdlib/utils/define-nonenumerable-read-only-accessor"),ur=require("@stdlib/assert/is-string").isPrimitive,N=require("@stdlib/assert/is-function"),gi=require("@stdlib/assert/is-boolean").isPrimitive,lr=require("@stdlib/assert/is-plain-object"),bi=require("@stdlib/assert/has-own-property"),k=require("@stdlib/string/format"),wi=require("@stdlib/utils/copy"),xi=A(),Ei=Ze(),_i=R(),ki=$e(),cr=rr(),yi=or();function Ti(e,r){var t,i,a,s,o;if(s={},arguments.length===1)if(N(e))o=e;else if(lr(e))s=e;else throw new TypeError(k("invalid argument. Must provide either an options object or a function. Value: `%s`.",e));else if(arguments.length>1){if(!lr(e))throw new TypeError(k("invalid argument. First argument must be an object. Value: `%s`.",e));if(bi(e,"autoclose")&&(s.autoclose=e.autoclose,!gi(s.autoclose)))throw new TypeError(k("invalid option. `%s` option must be a boolean. Option: `%s`.","autoclose",s.autoclose));if(o=r,!N(o))throw new TypeError(k("invalid argument. Second argument must be a function. Value: `%s`.",o))}i=new Ei,s.autoclose&&i.once("done",h),o&&i.once("done",o),t=0,a=[];function u(d,p,D){var b,x,_;if(!ur(d))throw new TypeError(k("invalid argument. First argument must be a string. Value: `%s`.",d));if(b=wi(ki),arguments.length===2){if(N(p))_=p;else if(x=cr(b,p),x)throw x}else if(arguments.length>2){if(x=cr(b,p),x)throw x;if(_=D,!N(_))throw new TypeError(k("invalid argument. Third argument must be a function. Value: `%s`.",_))}return a.push([d,b,_]),a.length===1&&_i(c),u}function c(){var d=-1;return p();function p(){var b;if(d+=1,d===a.length)return a.length=0,i.run();b=a[d],yi(b[0],b[1],b[2],D)}function D(b,x,_){var V,j;for(j=0;j<x.repeats;j++)V=new xi(b,x,_),V.on("result",l),i.push(V);return p()}}function l(d){!ur(d)&&!d.ok&&!d.todo&&(t=1)}function f(d){return arguments.length?i.createStream(d):i.createStream()}function h(){i.close()}function E(){i.exit()}function g(){return t}return H(u,"createStream",f),H(u,"close",h),H(u,"exit",E),qi(u,"exitCode",g),u}fr.exports=Ti});var G=n(function(Da,vr){"use strict";var Si=require("process");vr.exports=Si});var hr=n(function(Va,pr){"use strict";var mr=G(),Oi=mr&&typeof mr.exit=="function";pr.exports=Oi});var W=n(function(ja,dr){"use strict";var Pi=require("@stdlib/assert/is-browser"),Ri=hr(),Ii=!Pi&&Ri;dr.exports=Ii});var gr=n(function(Fa,qr){"use strict";function Ai(e){console.log(e)}qr.exports=Ai});var wr=n(function(Ha,br){"use strict";var Mi=require("@stdlib/streams/node/transform"),Ni=require("@stdlib/string/from-code-point"),Bi=gr();function Ci(){var e,r;return e=new Mi({transform:t,flush:i}),r="",e;function t(a,s,o){var u,c;for(c=0;c<a.length;c++)u=Ni(a[c]),u==="\n"?i():r+=u;o()}function i(a){try{Bi(r)}catch(s){e.emit("error",s)}if(r="",a)return a()}}br.exports=Ci});var Sr=n(function(La,Tr){"use strict";var xr=require("@stdlib/assert/is-function"),Di=require("@stdlib/assert/is-boolean").isPrimitive,Er=require("@stdlib/assert/is-plain-object"),Vi=require("@stdlib/assert/is-node-writable-stream-like"),_r=require("@stdlib/assert/has-own-property"),S=require("@stdlib/string/format"),ji=require("@stdlib/utils/pick"),Fi=require("@stdlib/utils/omit"),kr=require("@stdlib/utils/noop"),Hi=L(),Li=wr(),Gi=W(),yr=G();function Wi(){var e,r,t,i,a,s,o,u;if(arguments.length===0)i={},u=kr;else if(arguments.length===1)if(xr(arguments[0]))i={},u=arguments[0];else if(Er(arguments[0]))i=arguments[0],u=kr;else throw new TypeError(S("invalid argument. Must provide either an options object or a function. Value: `%s`.",arguments[0]));else{if(i=arguments[0],!Er(i))throw new TypeError(S("invalid argument. First argument must be an object. Value: `%s`.",i));if(u=arguments[1],!xr(u))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",u))}if(o={},_r(i,"autoclose")&&(o.autoclose=i.autoclose,!Di(o.autoclose)))throw new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","autoclose",o.autoclose));if(_r(i,"stream")&&(o.stream=i.stream,!Vi(o.stream)))throw new TypeError(S("invalid option. `%s` option must be a writable stream. Option: `%s`.","stream",o.stream));return e=0,s=ji(o,["autoclose"]),t=Hi(s,c),s=Fi(i,["autoclose","stream"]),a=t.createStream(s),r=a.pipe(o.stream||Li()),Gi&&(r.on("error",l),yr.on("exit",f)),t;function c(){return u()}function l(){e=1}function f(h){h===0&&(t.close(),yr.exit(e||t.exitCode))}}Tr.exports=Wi});var Rr=n(function(Ga,Pr){"use strict";var Xi=W(),Yi=Sr(),B;function Or(e,r){var t,i;return B||(arguments.length>1?(t=e,i=r):(t={},i=e),t.autoclose=!Xi,B=Yi(t,i),Or.cached=!0,B)}Pr.exports=Or});var Mr=n(function(Wa,Ar){"use strict";var Ki=require("@stdlib/streams/node/transform"),X=require("@stdlib/utils/define-nonenumerable-read-only-property"),zi=require("@stdlib/assert/is-function"),Ui=require("@stdlib/string/format"),Ji=L(),C=Rr(),O=[];function Ir(){var e,r,t;for(e=O.length,t=0;t<e;t++)r=O.shift(),r()}function Qi(e){var r,t,i;return arguments.length?i=e:i={},C.cached?(t=C(),t.createStream(i)):(r=new Ki(i),i.stream=r,C(i,Ir),r)}function Zi(e){var r;if(!zi(e))throw new TypeError(Ui("invalid argument. Must provide a function. Value: `%s`.",e));for(r=0;r<O.length;r++)if(e===O[r])throw new Error("invalid argument. Attempted to add duplicate listener.");O.push(e)}function P(e,r,t){var i=C(Ir);return arguments.length<2?i(e):arguments.length===2?i(e,r):i(e,r,t),P}X(P,"createHarness",Ji);X(P,"createStream",Qi);X(P,"onFinish",Zi);Ar.exports=P});var Br=n(function(Xa,Nr){"use strict";var $i=Mr();Nr.exports=$i});var ea=Br();module.exports=ea;
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
